(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ei(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const he={},bs=[],pt=()=>{},sc=()=>!1,Kn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ti=t=>t.startsWith("onUpdate:"),Te=Object.assign,si=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},nc=Object.prototype.hasOwnProperty,le=(t,e)=>nc.call(t,e),J=Array.isArray,ws=t=>gn(t)==="[object Map]",js=t=>gn(t)==="[object Set]",Ti=t=>gn(t)==="[object Date]",Y=t=>typeof t=="function",be=t=>typeof t=="string",gt=t=>typeof t=="symbol",pe=t=>t!==null&&typeof t=="object",ta=t=>(pe(t)||Y(t))&&Y(t.then)&&Y(t.catch),sa=Object.prototype.toString,gn=t=>sa.call(t),rc=t=>gn(t).slice(8,-1),na=t=>gn(t)==="[object Object]",ni=t=>be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Js=ei(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zn=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ic=/-(\w)/g,Ye=zn(t=>t.replace(ic,(e,s)=>s?s.toUpperCase():"")),oc=/\B([A-Z])/g,Vt=zn(t=>t.replace(oc,"-$1").toLowerCase()),Wn=zn(t=>t.charAt(0).toUpperCase()+t.slice(1)),ar=zn(t=>t?`on${Wn(t)}`:""),Bt=(t,e)=>!Object.is(t,e),Rn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},ra=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Mn=t=>{const e=parseFloat(t);return isNaN(e)?t:e},ac=t=>{const e=be(t)?Number(t):NaN;return isNaN(e)?t:e};let Pi;const Gn=()=>Pi||(Pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sn(t){if(J(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=be(n)?dc(n):sn(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(be(t)||pe(t))return t}const lc=/;(?![^(]*\))/g,cc=/:([^]+)/,uc=/\/\*[^]*?\*\//g;function dc(t){const e={};return t.replace(uc,"").split(lc).forEach(s=>{if(s){const n=s.split(cc);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Fe(t){let e="";if(be(t))e=t;else if(J(t))for(let s=0;s<t.length;s++){const n=Fe(t[s]);n&&(e+=n+" ")}else if(pe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const fc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hc=ei(fc);function ia(t){return!!t||t===""}function pc(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=mn(t[n],e[n]);return s}function mn(t,e){if(t===e)return!0;let s=Ti(t),n=Ti(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=gt(t),n=gt(e),s||n)return t===e;if(s=J(t),n=J(e),s||n)return s&&n?pc(t,e):!1;if(s=pe(t),n=pe(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!mn(t[o],e[o]))return!1}}return String(t)===String(e)}function ri(t,e){return t.findIndex(s=>mn(s,e))}const oa=t=>!!(t&&t.__v_isRef===!0),te=t=>be(t)?t:t==null?"":J(t)||pe(t)&&(t.toString===sa||!Y(t.toString))?oa(t)?te(t.value):JSON.stringify(t,aa,2):String(t),aa=(t,e)=>oa(e)?aa(t,e.value):ws(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[lr(n,i)+" =>"]=r,s),{})}:js(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>lr(s))}:gt(e)?lr(e):pe(e)&&!J(e)&&!na(e)?String(e):e,lr=(t,e="")=>{var s;return gt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ke;class gc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ke,!e&&Ke&&(this.index=(Ke.scopes||(Ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ke;try{return Ke=this,e()}finally{Ke=s}}}on(){Ke=this}off(){Ke=this.parent}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function mc(){return Ke}let ve;const cr=new WeakSet;class la{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ke&&Ke.active&&Ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,cr.has(this)&&(cr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ua(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Oi(this),da(this);const e=ve,s=tt;ve=this,tt=!0;try{return this.fn()}finally{fa(this),ve=e,tt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ai(e);this.deps=this.depsTail=void 0,Oi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?cr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Tr(this)&&this.run()}get dirty(){return Tr(this)}}let ca=0,Ks,zs;function ua(t,e=!1){if(t.flags|=8,e){t.next=zs,zs=t;return}t.next=Ks,Ks=t}function ii(){ca++}function oi(){if(--ca>0)return;if(zs){let e=zs;for(zs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ks;){let e=Ks;for(Ks=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function da(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function fa(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),ai(n),vc(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function Tr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(ha(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function ha(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===nn))return;t.globalVersion=nn;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Tr(t)){t.flags&=-3;return}const s=ve,n=tt;ve=t,tt=!0;try{da(t);const r=t.fn(t._value);(e.version===0||Bt(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{ve=s,tt=n,fa(t),t.flags&=-3}}function ai(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ai(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function vc(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let tt=!0;const pa=[];function qt(){pa.push(tt),tt=!1}function Jt(){const t=pa.pop();tt=t===void 0?!0:t}function Oi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ve;ve=void 0;try{e()}finally{ve=s}}}let nn=0;class yc{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class li{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!ve||!tt||ve===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ve)s=this.activeLink=new yc(ve,this),ve.deps?(s.prevDep=ve.depsTail,ve.depsTail.nextDep=s,ve.depsTail=s):ve.deps=ve.depsTail=s,ga(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=ve.depsTail,s.nextDep=void 0,ve.depsTail.nextDep=s,ve.depsTail=s,ve.deps===s&&(ve.deps=n)}return s}trigger(e){this.version++,nn++,this.notify(e)}notify(e){ii();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{oi()}}}function ga(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)ga(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const Pr=new WeakMap,ss=Symbol(""),Or=Symbol(""),rn=Symbol("");function Ae(t,e,s){if(tt&&ve){let n=Pr.get(t);n||Pr.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new li),r.map=n,r.key=s),r.track()}}function Et(t,e,s,n,r,i){const o=Pr.get(t);if(!o){nn++;return}const a=l=>{l&&l.trigger()};if(ii(),e==="clear")o.forEach(a);else{const l=J(t),u=l&&ni(s);if(l&&s==="length"){const c=Number(n);o.forEach((f,h)=>{(h==="length"||h===rn||!gt(h)&&h>=c)&&a(f)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(rn)),e){case"add":l?u&&a(o.get("length")):(a(o.get(ss)),ws(t)&&a(o.get(Or)));break;case"delete":l||(a(o.get(ss)),ws(t)&&a(o.get(Or)));break;case"set":ws(t)&&a(o.get(ss));break}}oi()}function ls(t){const e=ie(t);return e===t?e:(Ae(e,"iterate",rn),Qe(t)?e:e.map(Re))}function Qn(t){return Ae(t=ie(t),"iterate",rn),t}const _c={__proto__:null,[Symbol.iterator](){return ur(this,Symbol.iterator,Re)},concat(...t){return ls(this).concat(...t.map(e=>J(e)?ls(e):e))},entries(){return ur(this,"entries",t=>(t[1]=Re(t[1]),t))},every(t,e){return yt(this,"every",t,e,void 0,arguments)},filter(t,e){return yt(this,"filter",t,e,s=>s.map(Re),arguments)},find(t,e){return yt(this,"find",t,e,Re,arguments)},findIndex(t,e){return yt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yt(this,"findLast",t,e,Re,arguments)},findLastIndex(t,e){return yt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yt(this,"forEach",t,e,void 0,arguments)},includes(...t){return dr(this,"includes",t)},indexOf(...t){return dr(this,"indexOf",t)},join(t){return ls(this).join(t)},lastIndexOf(...t){return dr(this,"lastIndexOf",t)},map(t,e){return yt(this,"map",t,e,void 0,arguments)},pop(){return Ms(this,"pop")},push(...t){return Ms(this,"push",t)},reduce(t,...e){return Ai(this,"reduce",t,e)},reduceRight(t,...e){return Ai(this,"reduceRight",t,e)},shift(){return Ms(this,"shift")},some(t,e){return yt(this,"some",t,e,void 0,arguments)},splice(...t){return Ms(this,"splice",t)},toReversed(){return ls(this).toReversed()},toSorted(t){return ls(this).toSorted(t)},toSpliced(...t){return ls(this).toSpliced(...t)},unshift(...t){return Ms(this,"unshift",t)},values(){return ur(this,"values",Re)}};function ur(t,e,s){const n=Qn(t),r=n[e]();return n!==t&&!Qe(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const bc=Array.prototype;function yt(t,e,s,n,r,i){const o=Qn(t),a=o!==t&&!Qe(t),l=o[e];if(l!==bc[e]){const f=l.apply(t,i);return a?Re(f):f}let u=s;o!==t&&(a?u=function(f,h){return s.call(this,Re(f),h,t)}:s.length>2&&(u=function(f,h){return s.call(this,f,h,t)}));const c=l.call(o,u,n);return a&&r?r(c):c}function Ai(t,e,s,n){const r=Qn(t);let i=s;return r!==t&&(Qe(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Re(a),l,t)}),r[e](i,...n)}function dr(t,e,s){const n=ie(t);Ae(n,"iterate",rn);const r=n[e](...s);return(r===-1||r===!1)&&di(s[0])?(s[0]=ie(s[0]),n[e](...s)):r}function Ms(t,e,s=[]){qt(),ii();const n=ie(t)[e].apply(t,s);return oi(),Jt(),n}const wc=ei("__proto__,__v_isRef,__isVue"),ma=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(gt));function Sc(t){gt(t)||(t=String(t));const e=ie(this);return Ae(e,"has",t),e.hasOwnProperty(t)}class va{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?jc:wa:i?ba:_a).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=J(e);if(!r){let l;if(o&&(l=_c[s]))return l;if(s==="hasOwnProperty")return Sc}const a=Reflect.get(e,s,$e(e)?e:n);return(gt(s)?ma.has(s):wc(s))||(r||Ae(e,"get",s),i)?a:$e(a)?o&&ni(s)?a:a.value:pe(a)?r?ka(a):Yn(a):a}}class ya extends va{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const l=ns(i);if(!Qe(n)&&!ns(n)&&(i=ie(i),n=ie(n)),!J(e)&&$e(i)&&!$e(n))return l?!1:(i.value=n,!0)}const o=J(e)&&ni(s)?Number(s)<e.length:le(e,s),a=Reflect.set(e,s,n,$e(e)?e:r);return e===ie(r)&&(o?Bt(n,i)&&Et(e,"set",s,n):Et(e,"add",s,n)),a}deleteProperty(e,s){const n=le(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&Et(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!gt(s)||!ma.has(s))&&Ae(e,"has",s),n}ownKeys(e){return Ae(e,"iterate",J(e)?"length":ss),Reflect.ownKeys(e)}}class kc extends va{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ec=new ya,Cc=new kc,xc=new ya(!0);const Ar=t=>t,wn=t=>Reflect.getPrototypeOf(t);function Tc(t,e,s){return function(...n){const r=this.__v_raw,i=ie(r),o=ws(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...n),c=s?Ar:e?Rr:Re;return!e&&Ae(i,"iterate",l?Or:ss),{next(){const{value:f,done:h}=u.next();return h?{value:f,done:h}:{value:a?[c(f[0]),c(f[1])]:c(f),done:h}},[Symbol.iterator](){return this}}}}function Sn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Pc(t,e){const s={get(r){const i=this.__v_raw,o=ie(i),a=ie(r);t||(Bt(r,a)&&Ae(o,"get",r),Ae(o,"get",a));const{has:l}=wn(o),u=e?Ar:t?Rr:Re;if(l.call(o,r))return u(i.get(r));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Ae(ie(r),"iterate",ss),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=ie(i),a=ie(r);return t||(Bt(r,a)&&Ae(o,"has",r),Ae(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=ie(a),u=e?Ar:t?Rr:Re;return!t&&Ae(l,"iterate",ss),a.forEach((c,f)=>r.call(i,u(c),u(f),o))}};return Te(s,t?{add:Sn("add"),set:Sn("set"),delete:Sn("delete"),clear:Sn("clear")}:{add(r){!e&&!Qe(r)&&!ns(r)&&(r=ie(r));const i=ie(this);return wn(i).has.call(i,r)||(i.add(r),Et(i,"add",r,r)),this},set(r,i){!e&&!Qe(i)&&!ns(i)&&(i=ie(i));const o=ie(this),{has:a,get:l}=wn(o);let u=a.call(o,r);u||(r=ie(r),u=a.call(o,r));const c=l.call(o,r);return o.set(r,i),u?Bt(i,c)&&Et(o,"set",r,i):Et(o,"add",r,i),this},delete(r){const i=ie(this),{has:o,get:a}=wn(i);let l=o.call(i,r);l||(r=ie(r),l=o.call(i,r)),a&&a.call(i,r);const u=i.delete(r);return l&&Et(i,"delete",r,void 0),u},clear(){const r=ie(this),i=r.size!==0,o=r.clear();return i&&Et(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=Tc(r,t,e)}),s}function ci(t,e){const s=Pc(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(le(s,r)&&r in n?s:n,r,i)}const Oc={get:ci(!1,!1)},Ac={get:ci(!1,!0)},Rc={get:ci(!0,!1)};const _a=new WeakMap,ba=new WeakMap,wa=new WeakMap,jc=new WeakMap;function $c(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ic(t){return t.__v_skip||!Object.isExtensible(t)?0:$c(rc(t))}function Yn(t){return ns(t)?t:ui(t,!1,Ec,Oc,_a)}function Sa(t){return ui(t,!1,xc,Ac,ba)}function ka(t){return ui(t,!0,Cc,Rc,wa)}function ui(t,e,s,n,r){if(!pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Ic(t);if(o===0)return t;const a=new Proxy(t,o===2?n:s);return r.set(t,a),a}function Ss(t){return ns(t)?Ss(t.__v_raw):!!(t&&t.__v_isReactive)}function ns(t){return!!(t&&t.__v_isReadonly)}function Qe(t){return!!(t&&t.__v_isShallow)}function di(t){return t?!!t.__v_raw:!1}function ie(t){const e=t&&t.__v_raw;return e?ie(e):t}function Lc(t){return!le(t,"__v_skip")&&Object.isExtensible(t)&&ra(t,"__v_skip",!0),t}const Re=t=>pe(t)?Yn(t):t,Rr=t=>pe(t)?ka(t):t;function $e(t){return t?t.__v_isRef===!0:!1}function Q(t){return Ea(t,!1)}function Mc(t){return Ea(t,!0)}function Ea(t,e){return $e(t)?t:new Dc(t,e)}class Dc{constructor(e,s){this.dep=new li,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ie(e),this._value=s?e:Re(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Qe(e)||ns(e);e=n?e:ie(e),Bt(e,s)&&(this._rawValue=e,this._value=n?e:Re(e),this.dep.trigger())}}function ks(t){return $e(t)?t.value:t}const Uc={get:(t,e,s)=>e==="__v_raw"?t:ks(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return $e(r)&&!$e(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function Ca(t){return Ss(t)?t:new Proxy(t,Uc)}class Nc{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new li(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=nn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&ve!==this)return ua(this,!0),!0}get value(){const e=this.dep.track();return ha(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Fc(t,e,s=!1){let n,r;return Y(t)?n=t:(n=t.get,r=t.set),new Nc(n,r,s)}const kn={},Dn=new WeakMap;let Xt;function Bc(t,e=!1,s=Xt){if(s){let n=Dn.get(s);n||Dn.set(s,n=[]),n.push(t)}}function Hc(t,e,s=he){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,u=_=>r?_:Qe(_)||r===!1||r===0?Ct(_,1):Ct(_);let c,f,h,p,y=!1,b=!1;if($e(t)?(f=()=>t.value,y=Qe(t)):Ss(t)?(f=()=>u(t),y=!0):J(t)?(b=!0,y=t.some(_=>Ss(_)||Qe(_)),f=()=>t.map(_=>{if($e(_))return _.value;if(Ss(_))return u(_);if(Y(_))return l?l(_,2):_()})):Y(t)?e?f=l?()=>l(t,2):t:f=()=>{if(h){qt();try{h()}finally{Jt()}}const _=Xt;Xt=c;try{return l?l(t,3,[p]):t(p)}finally{Xt=_}}:f=pt,e&&r){const _=f,C=r===!0?1/0:r;f=()=>Ct(_(),C)}const A=mc(),O=()=>{c.stop(),A&&A.active&&si(A.effects,c)};if(i&&e){const _=e;e=(...C)=>{_(...C),O()}}let w=b?new Array(t.length).fill(kn):kn;const T=_=>{if(!(!(c.flags&1)||!c.dirty&&!_))if(e){const C=c.run();if(r||y||(b?C.some((j,L)=>Bt(j,w[L])):Bt(C,w))){h&&h();const j=Xt;Xt=c;try{const L=[C,w===kn?void 0:b&&w[0]===kn?[]:w,p];l?l(e,3,L):e(...L),w=C}finally{Xt=j}}}else c.run()};return a&&a(T),c=new la(f),c.scheduler=o?()=>o(T,!1):T,p=_=>Bc(_,!1,c),h=c.onStop=()=>{const _=Dn.get(c);if(_){if(l)l(_,4);else for(const C of _)C();Dn.delete(c)}},e?n?T(!0):w=c.run():o?o(T.bind(null,!0),!0):c.run(),O.pause=c.pause.bind(c),O.resume=c.resume.bind(c),O.stop=O,O}function Ct(t,e=1/0,s){if(e<=0||!pe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,$e(t))Ct(t.value,e,s);else if(J(t))for(let n=0;n<t.length;n++)Ct(t[n],e,s);else if(js(t)||ws(t))t.forEach(n=>{Ct(n,e,s)});else if(na(t)){for(const n in t)Ct(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Ct(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vn(t,e,s,n){try{return n?t(...n):t()}catch(r){Xn(r,e,s)}}function nt(t,e,s,n){if(Y(t)){const r=vn(t,e,s,n);return r&&ta(r)&&r.catch(i=>{Xn(i,e,s)}),r}if(J(t)){const r=[];for(let i=0;i<t.length;i++)r.push(nt(t[i],e,s,n));return r}}function Xn(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||he;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,l,u)===!1)return}a=a.parent}if(i){qt(),vn(i,null,10,[t,l,u]),Jt();return}}Vc(t,s,r,n,o)}function Vc(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const Le=[];let dt=-1;const Es=[];let It=null,vs=0;const xa=Promise.resolve();let Un=null;function kt(t){const e=Un||xa;return t?e.then(this?t.bind(this):t):e}function qc(t){let e=dt+1,s=Le.length;for(;e<s;){const n=e+s>>>1,r=Le[n],i=on(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function fi(t){if(!(t.flags&1)){const e=on(t),s=Le[Le.length-1];!s||!(t.flags&2)&&e>=on(s)?Le.push(t):Le.splice(qc(e),0,t),t.flags|=1,Ta()}}function Ta(){Un||(Un=xa.then(Oa))}function Jc(t){J(t)?Es.push(...t):It&&t.id===-1?It.splice(vs+1,0,t):t.flags&1||(Es.push(t),t.flags|=1),Ta()}function Ri(t,e,s=dt+1){for(;s<Le.length;s++){const n=Le[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Le.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Pa(t){if(Es.length){const e=[...new Set(Es)].sort((s,n)=>on(s)-on(n));if(Es.length=0,It){It.push(...e);return}for(It=e,vs=0;vs<It.length;vs++){const s=It[vs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}It=null,vs=0}}const on=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Oa(t){try{for(dt=0;dt<Le.length;dt++){const e=Le[dt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),vn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;dt<Le.length;dt++){const e=Le[dt];e&&(e.flags&=-2)}dt=-1,Le.length=0,Pa(),Un=null,(Le.length||Es.length)&&Oa()}}let Be=null,Aa=null;function Nn(t){const e=Be;return Be=t,Aa=t&&t.type.__scopeId||null,e}function ue(t,e=Be,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Hi(-1);const i=Nn(e);let o;try{o=t(...r)}finally{Nn(i),n._d&&Hi(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function _e(t,e){if(Be===null)return t;const s=nr(Be),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=he]=e[r];i&&(Y(i)&&(i={mounted:i,updated:i}),i.deep&&Ct(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function zt(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(qt(),nt(l,s,8,[t.el,a,t,e]),Jt())}}const Kc=Symbol("_vte"),Ra=t=>t.__isTeleport,Lt=Symbol("_leaveCb"),En=Symbol("_enterCb");function zc(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $s(()=>{t.isMounted=!0}),Fa(()=>{t.isUnmounting=!0}),t}const Ge=[Function,Array],ja={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ge,onEnter:Ge,onAfterEnter:Ge,onEnterCancelled:Ge,onBeforeLeave:Ge,onLeave:Ge,onAfterLeave:Ge,onLeaveCancelled:Ge,onBeforeAppear:Ge,onAppear:Ge,onAfterAppear:Ge,onAppearCancelled:Ge},$a=t=>{const e=t.subTree;return e.component?$a(e.component):e},Wc={name:"BaseTransition",props:ja,setup(t,{slots:e}){const s=Hu(),n=zc();return()=>{const r=e.default&&Ma(e.default(),!0);if(!r||!r.length)return;const i=Ia(r),o=ie(t),{mode:a}=o;if(n.isLeaving)return fr(i);const l=ji(i);if(!l)return fr(i);let u=jr(l,o,n,s,f=>u=f);l.type!==Ne&&an(l,u);let c=s.subTree&&ji(s.subTree);if(c&&c.type!==Ne&&!es(l,c)&&$a(s).type!==Ne){let f=jr(c,o,n,s);if(an(c,f),a==="out-in"&&l.type!==Ne)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete f.afterLeave,c=void 0},fr(i);a==="in-out"&&l.type!==Ne?f.delayLeave=(h,p,y)=>{const b=La(n,c);b[String(c.key)]=c,h[Lt]=()=>{p(),h[Lt]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{y(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function Ia(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Ne){e=s;break}}return e}const Gc=Wc;function La(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function jr(t,e,s,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:A,onAppear:O,onAfterAppear:w,onAppearCancelled:T}=e,_=String(t.key),C=La(s,t),j=(V,X)=>{V&&nt(V,n,9,X)},L=(V,X)=>{const M=X[1];j(V,X),J(V)?V.every(P=>P.length<=1)&&M():V.length<=1&&M()},se={mode:o,persisted:a,beforeEnter(V){let X=l;if(!s.isMounted)if(i)X=A||l;else return;V[Lt]&&V[Lt](!0);const M=C[_];M&&es(t,M)&&M.el[Lt]&&M.el[Lt](),j(X,[V])},enter(V){let X=u,M=c,P=f;if(!s.isMounted)if(i)X=O||u,M=w||c,P=T||f;else return;let z=!1;const ke=V[En]=Ee=>{z||(z=!0,Ee?j(P,[V]):j(M,[V]),se.delayedLeave&&se.delayedLeave(),V[En]=void 0)};X?L(X,[V,ke]):ke()},leave(V,X){const M=String(t.key);if(V[En]&&V[En](!0),s.isUnmounting)return X();j(h,[V]);let P=!1;const z=V[Lt]=ke=>{P||(P=!0,X(),ke?j(b,[V]):j(y,[V]),V[Lt]=void 0,C[M]===t&&delete C[M])};C[M]=t,p?L(p,[V,z]):z()},clone(V){const X=jr(V,e,s,n,r);return r&&r(X),X}};return se}function fr(t){if(Zn(t))return t=Ht(t),t.children=null,t}function ji(t){if(!Zn(t))return Ra(t.type)&&t.children?Ia(t.children):t;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&Y(s.default))return s.default()}}function an(t,e){t.shapeFlag&6&&t.component?(t.transition=e,an(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ma(t,e=!1,s){let n=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===Se?(o.patchFlag&128&&r++,n=n.concat(Ma(o.children,e,a))):(e||o.type!==Ne)&&n.push(a!=null?Ht(o,{key:a}):o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Da(t,e){return Y(t)?Te({name:t.name},e,{setup:t}):t}function Ua(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Fn(t,e,s,n,r=!1){if(J(t)){t.forEach((y,b)=>Fn(y,e&&(J(e)?e[b]:e),s,n,r));return}if(Ws(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Fn(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?nr(n.component):n.el,o=r?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===he?a.refs={}:a.refs,f=a.setupState,h=ie(f),p=f===he?()=>!1:y=>le(h,y);if(u!=null&&u!==l&&(be(u)?(c[u]=null,p(u)&&(f[u]=null)):$e(u)&&(u.value=null)),Y(l))vn(l,a,12,[o,c]);else{const y=be(l),b=$e(l);if(y||b){const A=()=>{if(t.f){const O=y?p(l)?f[l]:c[l]:l.value;r?J(O)&&si(O,i):J(O)?O.includes(i)||O.push(i):y?(c[l]=[i],p(l)&&(f[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else y?(c[l]=o,p(l)&&(f[l]=o)):b&&(l.value=o,t.k&&(c[t.k]=o))};o?(A.id=-1,qe(A,s)):A()}}}Gn().requestIdleCallback;Gn().cancelIdleCallback;const Ws=t=>!!t.type.__asyncLoader,Zn=t=>t.type.__isKeepAlive;function Qc(t,e){Na(t,"a",e)}function Yc(t,e){Na(t,"da",e)}function Na(t,e,s=Oe){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(er(e,n,s),s){let r=s.parent;for(;r&&r.parent;)Zn(r.parent.vnode)&&Xc(n,e,s,r),r=r.parent}}function Xc(t,e,s,n){const r=er(e,t,n,!0);hi(()=>{si(n[e],r)},s)}function er(t,e,s=Oe,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{qt();const a=yn(s),l=nt(e,s,t,o);return a(),Jt(),l});return n?r.unshift(i):r.push(i),i}}const Pt=t=>(e,s=Oe)=>{(!cn||t==="sp")&&er(t,(...n)=>e(...n),s)},Zc=Pt("bm"),$s=Pt("m"),eu=Pt("bu"),tu=Pt("u"),Fa=Pt("bum"),hi=Pt("um"),su=Pt("sp"),nu=Pt("rtg"),ru=Pt("rtc");function iu(t,e=Oe){er("ec",t,e)}const Ba="components";function $r(t,e){return Va(Ba,t,!0,e)||t}const Ha=Symbol.for("v-ndc");function ou(t){return be(t)?Va(Ba,t,!1)||t:t||Ha}function Va(t,e,s=!0,n=!1){const r=Be||Oe;if(r){const i=r.type;{const a=zu(i,!1);if(a&&(a===e||a===Ye(e)||a===Wn(Ye(e))))return i}const o=$i(r[t]||i[t],e)||$i(r.appContext[t],e);return!o&&n?i:o}}function $i(t,e){return t&&(t[e]||t[Ye(e)]||t[Wn(Ye(e))])}function Ze(t,e,s,n){let r;const i=s,o=J(t);if(o||be(t)){const a=o&&Ss(t);let l=!1;a&&(l=!Qe(t),t=Qn(t)),r=new Array(t.length);for(let u=0,c=t.length;u<c;u++)r[u]=e(l?Re(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(pe(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];r[l]=e(t[c],c,l,i)}}else r=[];return r}const Ir=t=>t?dl(t)?nr(t):Ir(t.parent):null,Gs=Te(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ir(t.parent),$root:t=>Ir(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ja(t),$forceUpdate:t=>t.f||(t.f=()=>{fi(t.update)}),$nextTick:t=>t.n||(t.n=kt.bind(t.proxy)),$watch:t=>Tu.bind(t)}),hr=(t,e)=>t!==he&&!t.__isScriptSetup&&le(t,e),au={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(hr(n,e))return o[e]=1,n[e];if(r!==he&&le(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&le(u,e))return o[e]=3,i[e];if(s!==he&&le(s,e))return o[e]=4,s[e];Lr&&(o[e]=0)}}const c=Gs[e];let f,h;if(c)return e==="$attrs"&&Ae(t.attrs,"get",""),c(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(s!==he&&le(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,le(h,e))return h[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return hr(r,e)?(r[e]=s,!0):n!==he&&le(n,e)?(n[e]=s,!0):le(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||t!==he&&le(t,o)||hr(e,o)||(a=i[0])&&le(a,o)||le(n,o)||le(Gs,o)||le(r.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:le(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ii(t){return J(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Lr=!0;function lu(t){const e=Ja(t),s=t.proxy,n=t.ctx;Lr=!1,e.beforeCreate&&Li(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:f,mounted:h,beforeUpdate:p,updated:y,activated:b,deactivated:A,beforeDestroy:O,beforeUnmount:w,destroyed:T,unmounted:_,render:C,renderTracked:j,renderTriggered:L,errorCaptured:se,serverPrefetch:V,expose:X,inheritAttrs:M,components:P,directives:z,filters:ke}=e;if(u&&cu(u,n,null),o)for(const de in o){const oe=o[de];Y(oe)&&(n[de]=oe.bind(s))}if(r){const de=r.call(s,s);pe(de)&&(t.data=Yn(de))}if(Lr=!0,i)for(const de in i){const oe=i[de],vt=Y(oe)?oe.bind(s,s):Y(oe.get)?oe.get.bind(s,s):pt,Ot=!Y(oe)&&Y(oe.set)?oe.set.bind(s):pt,it=je({get:vt,set:Ot});Object.defineProperty(n,de,{enumerable:!0,configurable:!0,get:()=>it.value,set:Me=>it.value=Me})}if(a)for(const de in a)qa(a[de],n,s,de);if(l){const de=Y(l)?l.call(s):l;Reflect.ownKeys(de).forEach(oe=>{jn(oe,de[oe])})}c&&Li(c,t,"c");function we(de,oe){J(oe)?oe.forEach(vt=>de(vt.bind(s))):oe&&de(oe.bind(s))}if(we(Zc,f),we($s,h),we(eu,p),we(tu,y),we(Qc,b),we(Yc,A),we(iu,se),we(ru,j),we(nu,L),we(Fa,w),we(hi,_),we(su,V),J(X))if(X.length){const de=t.exposed||(t.exposed={});X.forEach(oe=>{Object.defineProperty(de,oe,{get:()=>s[oe],set:vt=>s[oe]=vt})})}else t.exposed||(t.exposed={});C&&t.render===pt&&(t.render=C),M!=null&&(t.inheritAttrs=M),P&&(t.components=P),z&&(t.directives=z),V&&Ua(t)}function cu(t,e,s=pt){J(t)&&(t=Mr(t));for(const n in t){const r=t[n];let i;pe(r)?"default"in r?i=st(r.from||n,r.default,!0):i=st(r.from||n):i=st(r),$e(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function Li(t,e,s){nt(J(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function qa(t,e,s,n){let r=n.includes(".")?il(s,n):()=>s[n];if(be(t)){const i=e[t];Y(i)&&xt(r,i)}else if(Y(t))xt(r,t.bind(s));else if(pe(t))if(J(t))t.forEach(i=>qa(i,e,s,n));else{const i=Y(t.handler)?t.handler.bind(s):e[t.handler];Y(i)&&xt(r,i,t)}}function Ja(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(u=>Bn(l,u,o,!0)),Bn(l,e,o)),pe(e)&&i.set(e,l),l}function Bn(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&Bn(t,i,s,!0),r&&r.forEach(o=>Bn(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=uu[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const uu={data:Mi,props:Di,emits:Di,methods:Vs,computed:Vs,beforeCreate:Ie,created:Ie,beforeMount:Ie,mounted:Ie,beforeUpdate:Ie,updated:Ie,beforeDestroy:Ie,beforeUnmount:Ie,destroyed:Ie,unmounted:Ie,activated:Ie,deactivated:Ie,errorCaptured:Ie,serverPrefetch:Ie,components:Vs,directives:Vs,watch:fu,provide:Mi,inject:du};function Mi(t,e){return e?t?function(){return Te(Y(t)?t.call(this,this):t,Y(e)?e.call(this,this):e)}:e:t}function du(t,e){return Vs(Mr(t),Mr(e))}function Mr(t){if(J(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ie(t,e){return t?[...new Set([].concat(t,e))]:e}function Vs(t,e){return t?Te(Object.create(null),t,e):e}function Di(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:Te(Object.create(null),Ii(t),Ii(e??{})):e}function fu(t,e){if(!t)return e;if(!e)return t;const s=Te(Object.create(null),t);for(const n in e)s[n]=Ie(t[n],e[n]);return s}function Ka(){return{app:null,config:{isNativeTag:sc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hu=0;function pu(t,e){return function(n,r=null){Y(n)||(n=Te({},n)),r!=null&&!pe(r)&&(r=null);const i=Ka(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:hu++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Gu,get config(){return i.config},set config(c){},use(c,...f){return o.has(c)||(c&&Y(c.install)?(o.add(c),c.install(u,...f)):Y(c)&&(o.add(c),c(u,...f))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,f){return f?(i.components[c]=f,u):i.components[c]},directive(c,f){return f?(i.directives[c]=f,u):i.directives[c]},mount(c,f,h){if(!l){const p=u._ceVNode||Z(n,r);return p.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(p,c,h),l=!0,u._container=c,c.__vue_app__=u,nr(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(nt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,f){return i.provides[c]=f,u},runWithContext(c){const f=Cs;Cs=u;try{return c()}finally{Cs=f}}};return u}}let Cs=null;function jn(t,e){if(Oe){let s=Oe.provides;const n=Oe.parent&&Oe.parent.provides;n===s&&(s=Oe.provides=Object.create(n)),s[t]=e}}function st(t,e,s=!1){const n=Oe||Be;if(n||Cs){const r=Cs?Cs._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&Y(e)?e.call(n&&n.proxy):e}}const za={},Wa=()=>Object.create(za),Ga=t=>Object.getPrototypeOf(t)===za;function gu(t,e,s,n=!1){const r={},i=Wa();t.propsDefaults=Object.create(null),Qa(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:Sa(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function mu(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=ie(r),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let h=c[f];if(tr(t.emitsOptions,h))continue;const p=e[h];if(l)if(le(i,h))p!==i[h]&&(i[h]=p,u=!0);else{const y=Ye(h);r[y]=Dr(l,a,y,p,t,!1)}else p!==i[h]&&(i[h]=p,u=!0)}}}else{Qa(t,e,r,i)&&(u=!0);let c;for(const f in a)(!e||!le(e,f)&&((c=Vt(f))===f||!le(e,c)))&&(l?s&&(s[f]!==void 0||s[c]!==void 0)&&(r[f]=Dr(l,a,f,void 0,t,!0)):delete r[f]);if(i!==a)for(const f in i)(!e||!le(e,f))&&(delete i[f],u=!0)}u&&Et(t.attrs,"set","")}function Qa(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Js(l))continue;const u=e[l];let c;r&&le(r,c=Ye(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:tr(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(i){const l=ie(s),u=a||he;for(let c=0;c<i.length;c++){const f=i[c];s[f]=Dr(r,l,f,u[f],t,!le(u,f))}}return o}function Dr(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=le(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Y(l)){const{propsDefaults:u}=r;if(s in u)n=u[s];else{const c=yn(r);n=u[s]=l.call(null,e),c()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Vt(s))&&(n=!0))}return n}const vu=new WeakMap;function Ya(t,e,s=!1){const n=s?vu:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!Y(t)){const c=f=>{l=!0;const[h,p]=Ya(f,e,!0);Te(o,h),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return pe(t)&&n.set(t,bs),bs;if(J(i))for(let c=0;c<i.length;c++){const f=Ye(i[c]);Ui(f)&&(o[f]=he)}else if(i)for(const c in i){const f=Ye(c);if(Ui(f)){const h=i[c],p=o[f]=J(h)||Y(h)?{type:h}:Te({},h),y=p.type;let b=!1,A=!0;if(J(y))for(let O=0;O<y.length;++O){const w=y[O],T=Y(w)&&w.name;if(T==="Boolean"){b=!0;break}else T==="String"&&(A=!1)}else b=Y(y)&&y.name==="Boolean";p[0]=b,p[1]=A,(b||le(p,"default"))&&a.push(f)}}const u=[o,a];return pe(t)&&n.set(t,u),u}function Ui(t){return t[0]!=="$"&&!Js(t)}const Xa=t=>t[0]==="_"||t==="$stable",pi=t=>J(t)?t.map(ht):[ht(t)],yu=(t,e,s)=>{if(e._n)return e;const n=ue((...r)=>pi(e(...r)),s);return n._c=!1,n},Za=(t,e,s)=>{const n=t._ctx;for(const r in t){if(Xa(r))continue;const i=t[r];if(Y(i))e[r]=yu(r,i,n);else if(i!=null){const o=pi(i);e[r]=()=>o}}},el=(t,e)=>{const s=pi(e);t.slots.default=()=>s},tl=(t,e,s)=>{for(const n in e)(s||n!=="_")&&(t[n]=e[n])},_u=(t,e,s)=>{const n=t.slots=Wa();if(t.vnode.shapeFlag&32){const r=e._;r?(tl(n,e,s),s&&ra(n,"_",r,!0)):Za(e,n)}else e&&el(t,e)},bu=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=he;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:tl(r,e,s):(i=!e.$stable,Za(e,r)),o=e}else e&&(el(t,e),o={default:1});if(i)for(const a in r)!Xa(a)&&o[a]==null&&delete r[a]},qe=Iu;function wu(t){return Su(t)}function Su(t,e){const s=Gn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:h,setScopeId:p=pt,insertStaticContent:y}=t,b=(g,m,v,S=null,x=null,E=null,D=void 0,I=null,$=!!m.dynamicChildren)=>{if(g===m)return;g&&!es(g,m)&&(S=k(g),Me(g,x,E,!0),g=null),m.patchFlag===-2&&($=!1,m.dynamicChildren=null);const{type:R,ref:W,shapeFlag:F}=m;switch(R){case sr:A(g,m,v,S);break;case Ne:O(g,m,v,S);break;case $n:g==null&&w(m,v,S,D);break;case Se:P(g,m,v,S,x,E,D,I,$);break;default:F&1?C(g,m,v,S,x,E,D,I,$):F&6?z(g,m,v,S,x,E,D,I,$):(F&64||F&128)&&R.process(g,m,v,S,x,E,D,I,$,q)}W!=null&&x&&Fn(W,g&&g.ref,E,m||g,!m)},A=(g,m,v,S)=>{if(g==null)n(m.el=a(m.children),v,S);else{const x=m.el=g.el;m.children!==g.children&&u(x,m.children)}},O=(g,m,v,S)=>{g==null?n(m.el=l(m.children||""),v,S):m.el=g.el},w=(g,m,v,S)=>{[g.el,g.anchor]=y(g.children,m,v,S,g.el,g.anchor)},T=({el:g,anchor:m},v,S)=>{let x;for(;g&&g!==m;)x=h(g),n(g,v,S),g=x;n(m,v,S)},_=({el:g,anchor:m})=>{let v;for(;g&&g!==m;)v=h(g),r(g),g=v;r(m)},C=(g,m,v,S,x,E,D,I,$)=>{m.type==="svg"?D="svg":m.type==="math"&&(D="mathml"),g==null?j(m,v,S,x,E,D,I,$):V(g,m,x,E,D,I,$)},j=(g,m,v,S,x,E,D,I)=>{let $,R;const{props:W,shapeFlag:F,transition:K,dirs:G}=g;if($=g.el=o(g.type,E,W&&W.is,W),F&8?c($,g.children):F&16&&se(g.children,$,null,S,x,pr(g,E),D,I),G&&zt(g,null,S,"created"),L($,g,g.scopeId,D,S),W){for(const ge in W)ge!=="value"&&!Js(ge)&&i($,ge,null,W[ge],E,S);"value"in W&&i($,"value",null,W.value,E),(R=W.onVnodeBeforeMount)&&ct(R,S,g)}G&&zt(g,null,S,"beforeMount");const re=ku(x,K);re&&K.beforeEnter($),n($,m,v),((R=W&&W.onVnodeMounted)||re||G)&&qe(()=>{R&&ct(R,S,g),re&&K.enter($),G&&zt(g,null,S,"mounted")},x)},L=(g,m,v,S,x)=>{if(v&&p(g,v),S)for(let E=0;E<S.length;E++)p(g,S[E]);if(x){let E=x.subTree;if(m===E||al(E.type)&&(E.ssContent===m||E.ssFallback===m)){const D=x.vnode;L(g,D,D.scopeId,D.slotScopeIds,x.parent)}}},se=(g,m,v,S,x,E,D,I,$=0)=>{for(let R=$;R<g.length;R++){const W=g[R]=I?Mt(g[R]):ht(g[R]);b(null,W,m,v,S,x,E,D,I)}},V=(g,m,v,S,x,E,D)=>{const I=m.el=g.el;let{patchFlag:$,dynamicChildren:R,dirs:W}=m;$|=g.patchFlag&16;const F=g.props||he,K=m.props||he;let G;if(v&&Wt(v,!1),(G=K.onVnodeBeforeUpdate)&&ct(G,v,m,g),W&&zt(m,g,v,"beforeUpdate"),v&&Wt(v,!0),(F.innerHTML&&K.innerHTML==null||F.textContent&&K.textContent==null)&&c(I,""),R?X(g.dynamicChildren,R,I,v,S,pr(m,x),E):D||oe(g,m,I,null,v,S,pr(m,x),E,!1),$>0){if($&16)M(I,F,K,v,x);else if($&2&&F.class!==K.class&&i(I,"class",null,K.class,x),$&4&&i(I,"style",F.style,K.style,x),$&8){const re=m.dynamicProps;for(let ge=0;ge<re.length;ge++){const ce=re[ge],He=F[ce],De=K[ce];(De!==He||ce==="value")&&i(I,ce,He,De,x,v)}}$&1&&g.children!==m.children&&c(I,m.children)}else!D&&R==null&&M(I,F,K,v,x);((G=K.onVnodeUpdated)||W)&&qe(()=>{G&&ct(G,v,m,g),W&&zt(m,g,v,"updated")},S)},X=(g,m,v,S,x,E,D)=>{for(let I=0;I<m.length;I++){const $=g[I],R=m[I],W=$.el&&($.type===Se||!es($,R)||$.shapeFlag&70)?f($.el):v;b($,R,W,null,S,x,E,D,!0)}},M=(g,m,v,S,x)=>{if(m!==v){if(m!==he)for(const E in m)!Js(E)&&!(E in v)&&i(g,E,m[E],null,x,S);for(const E in v){if(Js(E))continue;const D=v[E],I=m[E];D!==I&&E!=="value"&&i(g,E,I,D,x,S)}"value"in v&&i(g,"value",m.value,v.value,x)}},P=(g,m,v,S,x,E,D,I,$)=>{const R=m.el=g?g.el:a(""),W=m.anchor=g?g.anchor:a("");let{patchFlag:F,dynamicChildren:K,slotScopeIds:G}=m;G&&(I=I?I.concat(G):G),g==null?(n(R,v,S),n(W,v,S),se(m.children||[],v,W,x,E,D,I,$)):F>0&&F&64&&K&&g.dynamicChildren?(X(g.dynamicChildren,K,v,x,E,D,I),(m.key!=null||x&&m===x.subTree)&&sl(g,m,!0)):oe(g,m,v,W,x,E,D,I,$)},z=(g,m,v,S,x,E,D,I,$)=>{m.slotScopeIds=I,g==null?m.shapeFlag&512?x.ctx.activate(m,v,S,D,$):ke(m,v,S,x,E,D,$):Ee(g,m,$)},ke=(g,m,v,S,x,E,D)=>{const I=g.component=Bu(g,S,x);if(Zn(g)&&(I.ctx.renderer=q),Vu(I,!1,D),I.asyncDep){if(x&&x.registerDep(I,we,D),!g.el){const $=I.subTree=Z(Ne);O(null,$,m,v)}}else we(I,g,m,v,x,E,D)},Ee=(g,m,v)=>{const S=m.component=g.component;if(ju(g,m,v))if(S.asyncDep&&!S.asyncResolved){de(S,m,v);return}else S.next=m,S.update();else m.el=g.el,S.vnode=m},we=(g,m,v,S,x,E,D)=>{const I=()=>{if(g.isMounted){let{next:F,bu:K,u:G,parent:re,vnode:ge}=g;{const at=nl(g);if(at){F&&(F.el=ge.el,de(g,F,D)),at.asyncDep.then(()=>{g.isUnmounted||I()});return}}let ce=F,He;Wt(g,!1),F?(F.el=ge.el,de(g,F,D)):F=ge,K&&Rn(K),(He=F.props&&F.props.onVnodeBeforeUpdate)&&ct(He,re,F,ge),Wt(g,!0);const De=Fi(g),ot=g.subTree;g.subTree=De,b(ot,De,f(ot.el),k(ot),g,x,E),F.el=De.el,ce===null&&$u(g,De.el),G&&qe(G,x),(He=F.props&&F.props.onVnodeUpdated)&&qe(()=>ct(He,re,F,ge),x)}else{let F;const{el:K,props:G}=m,{bm:re,m:ge,parent:ce,root:He,type:De}=g,ot=Ws(m);Wt(g,!1),re&&Rn(re),!ot&&(F=G&&G.onVnodeBeforeMount)&&ct(F,ce,m),Wt(g,!0);{He.ce&&He.ce._injectChildStyle(De);const at=g.subTree=Fi(g);b(null,at,v,S,g,x,E),m.el=at.el}if(ge&&qe(ge,x),!ot&&(F=G&&G.onVnodeMounted)){const at=m;qe(()=>ct(F,ce,at),x)}(m.shapeFlag&256||ce&&Ws(ce.vnode)&&ce.vnode.shapeFlag&256)&&g.a&&qe(g.a,x),g.isMounted=!0,m=v=S=null}};g.scope.on();const $=g.effect=new la(I);g.scope.off();const R=g.update=$.run.bind($),W=g.job=$.runIfDirty.bind($);W.i=g,W.id=g.uid,$.scheduler=()=>fi(W),Wt(g,!0),R()},de=(g,m,v)=>{m.component=g;const S=g.vnode.props;g.vnode=m,g.next=null,mu(g,m.props,S,v),bu(g,m.children,v),qt(),Ri(g),Jt()},oe=(g,m,v,S,x,E,D,I,$=!1)=>{const R=g&&g.children,W=g?g.shapeFlag:0,F=m.children,{patchFlag:K,shapeFlag:G}=m;if(K>0){if(K&128){Ot(R,F,v,S,x,E,D,I,$);return}else if(K&256){vt(R,F,v,S,x,E,D,I,$);return}}G&8?(W&16&&We(R,x,E),F!==R&&c(v,F)):W&16?G&16?Ot(R,F,v,S,x,E,D,I,$):We(R,x,E,!0):(W&8&&c(v,""),G&16&&se(F,v,S,x,E,D,I,$))},vt=(g,m,v,S,x,E,D,I,$)=>{g=g||bs,m=m||bs;const R=g.length,W=m.length,F=Math.min(R,W);let K;for(K=0;K<F;K++){const G=m[K]=$?Mt(m[K]):ht(m[K]);b(g[K],G,v,null,x,E,D,I,$)}R>W?We(g,x,E,!0,!1,F):se(m,v,S,x,E,D,I,$,F)},Ot=(g,m,v,S,x,E,D,I,$)=>{let R=0;const W=m.length;let F=g.length-1,K=W-1;for(;R<=F&&R<=K;){const G=g[R],re=m[R]=$?Mt(m[R]):ht(m[R]);if(es(G,re))b(G,re,v,null,x,E,D,I,$);else break;R++}for(;R<=F&&R<=K;){const G=g[F],re=m[K]=$?Mt(m[K]):ht(m[K]);if(es(G,re))b(G,re,v,null,x,E,D,I,$);else break;F--,K--}if(R>F){if(R<=K){const G=K+1,re=G<W?m[G].el:S;for(;R<=K;)b(null,m[R]=$?Mt(m[R]):ht(m[R]),v,re,x,E,D,I,$),R++}}else if(R>K)for(;R<=F;)Me(g[R],x,E,!0),R++;else{const G=R,re=R,ge=new Map;for(R=re;R<=K;R++){const Ve=m[R]=$?Mt(m[R]):ht(m[R]);Ve.key!=null&&ge.set(Ve.key,R)}let ce,He=0;const De=K-re+1;let ot=!1,at=0;const Ls=new Array(De);for(R=0;R<De;R++)Ls[R]=0;for(R=G;R<=F;R++){const Ve=g[R];if(He>=De){Me(Ve,x,E,!0);continue}let lt;if(Ve.key!=null)lt=ge.get(Ve.key);else for(ce=re;ce<=K;ce++)if(Ls[ce-re]===0&&es(Ve,m[ce])){lt=ce;break}lt===void 0?Me(Ve,x,E,!0):(Ls[lt-re]=R+1,lt>=at?at=lt:ot=!0,b(Ve,m[lt],v,null,x,E,D,I,$),He++)}const Ci=ot?Eu(Ls):bs;for(ce=Ci.length-1,R=De-1;R>=0;R--){const Ve=re+R,lt=m[Ve],xi=Ve+1<W?m[Ve+1].el:S;Ls[R]===0?b(null,lt,v,xi,x,E,D,I,$):ot&&(ce<0||R!==Ci[ce]?it(lt,v,xi,2):ce--)}}},it=(g,m,v,S,x=null)=>{const{el:E,type:D,transition:I,children:$,shapeFlag:R}=g;if(R&6){it(g.component.subTree,m,v,S);return}if(R&128){g.suspense.move(m,v,S);return}if(R&64){D.move(g,m,v,q);return}if(D===Se){n(E,m,v);for(let F=0;F<$.length;F++)it($[F],m,v,S);n(g.anchor,m,v);return}if(D===$n){T(g,m,v);return}if(S!==2&&R&1&&I)if(S===0)I.beforeEnter(E),n(E,m,v),qe(()=>I.enter(E),x);else{const{leave:F,delayLeave:K,afterLeave:G}=I,re=()=>n(E,m,v),ge=()=>{F(E,()=>{re(),G&&G()})};K?K(E,re,ge):ge()}else n(E,m,v)},Me=(g,m,v,S=!1,x=!1)=>{const{type:E,props:D,ref:I,children:$,dynamicChildren:R,shapeFlag:W,patchFlag:F,dirs:K,cacheIndex:G}=g;if(F===-2&&(x=!1),I!=null&&Fn(I,null,v,g,!0),G!=null&&(m.renderCache[G]=void 0),W&256){m.ctx.deactivate(g);return}const re=W&1&&K,ge=!Ws(g);let ce;if(ge&&(ce=D&&D.onVnodeBeforeUnmount)&&ct(ce,m,g),W&6)bn(g.component,v,S);else{if(W&128){g.suspense.unmount(v,S);return}re&&zt(g,null,m,"beforeUnmount"),W&64?g.type.remove(g,m,v,q,S):R&&!R.hasOnce&&(E!==Se||F>0&&F&64)?We(R,m,v,!1,!0):(E===Se&&F&384||!x&&W&16)&&We($,m,v),S&&os(g)}(ge&&(ce=D&&D.onVnodeUnmounted)||re)&&qe(()=>{ce&&ct(ce,m,g),re&&zt(g,null,m,"unmounted")},v)},os=g=>{const{type:m,el:v,anchor:S,transition:x}=g;if(m===Se){as(v,S);return}if(m===$n){_(g);return}const E=()=>{r(v),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(g.shapeFlag&1&&x&&!x.persisted){const{leave:D,delayLeave:I}=x,$=()=>D(v,E);I?I(g.el,E,$):$()}else E()},as=(g,m)=>{let v;for(;g!==m;)v=h(g),r(g),g=v;r(m)},bn=(g,m,v)=>{const{bum:S,scope:x,job:E,subTree:D,um:I,m:$,a:R}=g;Ni($),Ni(R),S&&Rn(S),x.stop(),E&&(E.flags|=8,Me(D,g,m,v)),I&&qe(I,m),qe(()=>{g.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},We=(g,m,v,S=!1,x=!1,E=0)=>{for(let D=E;D<g.length;D++)Me(g[D],m,v,S,x)},k=g=>{if(g.shapeFlag&6)return k(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const m=h(g.anchor||g.el),v=m&&m[Kc];return v?h(v):m};let H=!1;const U=(g,m,v)=>{g==null?m._vnode&&Me(m._vnode,null,null,!0):b(m._vnode||null,g,m,null,null,null,v),m._vnode=g,H||(H=!0,Ri(),Pa(),H=!1)},q={p:b,um:Me,m:it,r:os,mt:ke,mc:se,pc:oe,pbc:X,n:k,o:t};return{render:U,hydrate:void 0,createApp:pu(U)}}function pr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Wt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ku(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function sl(t,e,s=!1){const n=t.children,r=e.children;if(J(n)&&J(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Mt(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&sl(o,a)),a.type===sr&&(a.el=o.el)}}function Eu(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(r=s[s.length-1],t[r]<u){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function nl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nl(e)}function Ni(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Cu=Symbol.for("v-scx"),xu=()=>st(Cu);function xt(t,e,s){return rl(t,e,s)}function rl(t,e,s=he){const{immediate:n,deep:r,flush:i,once:o}=s,a=Te({},s),l=e&&n||!e&&i!=="post";let u;if(cn){if(i==="sync"){const p=xu();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=pt,p.resume=pt,p.pause=pt,p}}const c=Oe;a.call=(p,y,b)=>nt(p,c,y,b);let f=!1;i==="post"?a.scheduler=p=>{qe(p,c&&c.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(p,y)=>{y?p():fi(p)}),a.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const h=Hc(t,e,a);return cn&&(u?u.push(h):l&&h()),h}function Tu(t,e,s){const n=this.proxy,r=be(t)?t.includes(".")?il(n,t):()=>n[t]:t.bind(n,n);let i;Y(e)?i=e:(i=e.handler,s=e);const o=yn(this),a=rl(r,i.bind(n),s);return o(),a}function il(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Pu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ye(e)}Modifiers`]||t[`${Vt(e)}Modifiers`];function Ou(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||he;let r=s;const i=e.startsWith("update:"),o=i&&Pu(n,e.slice(7));o&&(o.trim&&(r=s.map(c=>be(c)?c.trim():c)),o.number&&(r=s.map(Mn)));let a,l=n[a=ar(e)]||n[a=ar(Ye(e))];!l&&i&&(l=n[a=ar(Vt(e))]),l&&nt(l,t,6,r);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,nt(u,t,6,r)}}function ol(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Y(t)){const l=u=>{const c=ol(u,e,!0);c&&(a=!0,Te(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(pe(t)&&n.set(t,null),null):(J(i)?i.forEach(l=>o[l]=null):Te(o,i),pe(t)&&n.set(t,o),o)}function tr(t,e){return!t||!Kn(e)?!1:(e=e.slice(2).replace(/Once$/,""),le(t,e[0].toLowerCase()+e.slice(1))||le(t,Vt(e))||le(t,e))}function Fi(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:f,data:h,setupState:p,ctx:y,inheritAttrs:b}=t,A=Nn(t);let O,w;try{if(s.shapeFlag&4){const _=r||n,C=_;O=ht(u.call(C,_,c,f,p,h,y)),w=a}else{const _=e;O=ht(_.length>1?_(f,{attrs:a,slots:o,emit:l}):_(f,null)),w=e.props?a:Au(a)}}catch(_){Qs.length=0,Xn(_,t,1),O=Z(Ne)}let T=O;if(w&&b!==!1){const _=Object.keys(w),{shapeFlag:C}=T;_.length&&C&7&&(i&&_.some(ti)&&(w=Ru(w,i)),T=Ht(T,w,!1,!0))}return s.dirs&&(T=Ht(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(s.dirs):s.dirs),s.transition&&an(T,s.transition),O=T,Nn(A),O}const Au=t=>{let e;for(const s in t)(s==="class"||s==="style"||Kn(s))&&((e||(e={}))[s]=t[s]);return e},Ru=(t,e)=>{const s={};for(const n in t)(!ti(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function ju(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Bi(n,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const h=c[f];if(o[h]!==n[h]&&!tr(u,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Bi(n,o,u):!0:!!o;return!1}function Bi(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!tr(s,i))return!0}return!1}function $u({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const al=t=>t.__isSuspense;function Iu(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):Jc(t)}const Se=Symbol.for("v-fgt"),sr=Symbol.for("v-txt"),Ne=Symbol.for("v-cmt"),$n=Symbol.for("v-stc"),Qs=[];let ze=null;function N(t=!1){Qs.push(ze=t?null:[])}function Lu(){Qs.pop(),ze=Qs[Qs.length-1]||null}let ln=1;function Hi(t,e=!1){ln+=t,t<0&&ze&&e&&(ze.hasOnce=!0)}function ll(t){return t.dynamicChildren=ln>0?ze||bs:null,Lu(),ln>0&&ze&&ze.push(t),t}function B(t,e,s,n,r,i){return ll(d(t,e,s,n,r,i,!0))}function cl(t,e,s,n,r){return ll(Z(t,e,s,n,r,!0))}function Hn(t){return t?t.__v_isVNode===!0:!1}function es(t,e){return t.type===e.type&&t.key===e.key}const ul=({key:t})=>t??null,In=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?be(t)||$e(t)||Y(t)?{i:Be,r:t,k:e,f:!!s}:t:null);function d(t,e=null,s=null,n=0,r=null,i=t===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ul(e),ref:e&&In(e),scopeId:Aa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Be};return a?(mi(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=be(s)?8:16),ln>0&&!o&&ze&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ze.push(l),l}const Z=Mu;function Mu(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===Ha)&&(t=Ne),Hn(t)){const a=Ht(t,e,!0);return s&&mi(a,s),ln>0&&!i&&ze&&(a.shapeFlag&6?ze[ze.indexOf(t)]=a:ze.push(a)),a.patchFlag=-2,a}if(Wu(t)&&(t=t.__vccOpts),e){e=Du(e);let{class:a,style:l}=e;a&&!be(a)&&(e.class=Fe(a)),pe(l)&&(di(l)&&!J(l)&&(l=Te({},l)),e.style=sn(l))}const o=be(t)?1:al(t)?128:Ra(t)?64:pe(t)?4:Y(t)?2:0;return d(t,e,s,n,r,o,i,!0)}function Du(t){return t?di(t)||Ga(t)?Te({},t):t:null}function Ht(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Uu(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&ul(u),ref:e&&e.ref?s&&i?J(i)?i.concat(In(e)):[i,In(e)]:In(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Se?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ht(t.ssContent),ssFallback:t.ssFallback&&Ht(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&an(c,l.clone(c)),c}function ye(t=" ",e=0){return Z(sr,null,t,e)}function gi(t,e){const s=Z($n,null,t);return s.staticCount=e,s}function Pe(t="",e=!1){return e?(N(),cl(Ne,null,t)):Z(Ne,null,t)}function ht(t){return t==null||typeof t=="boolean"?Z(Ne):J(t)?Z(Se,null,t.slice()):Hn(t)?Mt(t):Z(sr,null,String(t))}function Mt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ht(t)}function mi(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(J(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),mi(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!Ga(e)?e._ctx=Be:r===3&&Be&&(Be.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Y(e)?(e={default:e,_ctx:Be},s=32):(e=String(e),n&64?(s=16,e=[ye(e)]):s=8);t.children=e,t.shapeFlag|=s}function Uu(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Fe([e.class,n.class]));else if(r==="style")e.style=sn([e.style,n.style]);else if(Kn(r)){const i=e[r],o=n[r];o&&i!==o&&!(J(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function ct(t,e,s,n=null){nt(t,e,7,[s,n])}const Nu=Ka();let Fu=0;function Bu(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||Nu,i={uid:Fu++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new gc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ya(n,r),emitsOptions:ol(n,r),emit:null,emitted:null,propsDefaults:he,inheritAttrs:n.inheritAttrs,ctx:he,data:he,props:he,attrs:he,slots:he,refs:he,setupState:he,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Ou.bind(null,i),t.ce&&t.ce(i),i}let Oe=null;const Hu=()=>Oe||Be;let Vn,Ur;{const t=Gn(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};Vn=e("__VUE_INSTANCE_SETTERS__",s=>Oe=s),Ur=e("__VUE_SSR_SETTERS__",s=>cn=s)}const yn=t=>{const e=Oe;return Vn(t),t.scope.on(),()=>{t.scope.off(),Vn(e)}},Vi=()=>{Oe&&Oe.scope.off(),Vn(null)};function dl(t){return t.vnode.shapeFlag&4}let cn=!1;function Vu(t,e=!1,s=!1){e&&Ur(e);const{props:n,children:r}=t.vnode,i=dl(t);gu(t,n,i,e),_u(t,r,s);const o=i?qu(t,e):void 0;return e&&Ur(!1),o}function qu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,au);const{setup:n}=s;if(n){qt();const r=t.setupContext=n.length>1?Ku(t):null,i=yn(t),o=vn(n,t,0,[t.props,r]),a=ta(o);if(Jt(),i(),(a||t.sp)&&!Ws(t)&&Ua(t),a){if(o.then(Vi,Vi),e)return o.then(l=>{qi(t,l)}).catch(l=>{Xn(l,t,0)});t.asyncDep=o}else qi(t,o)}else fl(t)}function qi(t,e,s){Y(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pe(e)&&(t.setupState=Ca(e)),fl(t)}function fl(t,e,s){const n=t.type;t.render||(t.render=n.render||pt);{const r=yn(t);qt();try{lu(t)}finally{Jt(),r()}}}const Ju={get(t,e){return Ae(t,"get",""),t[e]}};function Ku(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Ju),slots:t.slots,emit:t.emit,expose:e}}function nr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ca(Lc(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Gs)return Gs[s](t)},has(e,s){return s in e||s in Gs}})):t.proxy}function zu(t,e=!0){return Y(t)?t.displayName||t.name:t.name||e&&t.__name}function Wu(t){return Y(t)&&"__vccOpts"in t}const je=(t,e)=>Fc(t,e,cn);function vi(t,e,s){const n=arguments.length;return n===2?pe(e)&&!J(e)?Hn(e)?Z(t,null,[e]):Z(t,e):Z(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Hn(s)&&(s=[s]),Z(t,e,s))}const Gu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nr;const Ji=typeof window<"u"&&window.trustedTypes;if(Ji)try{Nr=Ji.createPolicy("vue",{createHTML:t=>t})}catch{}const hl=Nr?t=>Nr.createHTML(t):t=>t,Qu="http://www.w3.org/2000/svg",Yu="http://www.w3.org/1998/Math/MathML",wt=typeof document<"u"?document:null,Ki=wt&&wt.createElement("template"),Xu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?wt.createElementNS(Qu,t):e==="mathml"?wt.createElementNS(Yu,t):s?wt.createElement(t,{is:s}):wt.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>wt.createTextNode(t),createComment:t=>wt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>wt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Ki.innerHTML=hl(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Ki.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},At="transition",Ds="animation",un=Symbol("_vtc"),pl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Zu=Te({},ja,pl),ed=t=>(t.displayName="Transition",t.props=Zu,t),td=ed((t,{slots:e})=>vi(Gc,sd(t),e)),Gt=(t,e=[])=>{J(t)?t.forEach(s=>s(...e)):t&&t(...e)},zi=t=>t?J(t)?t.some(e=>e.length>1):t.length>1:!1;function sd(t){const e={};for(const P in t)P in pl||(e[P]=t[P]);if(t.css===!1)return e;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:p=`${s}-leave-to`}=t,y=nd(r),b=y&&y[0],A=y&&y[1],{onBeforeEnter:O,onEnter:w,onEnterCancelled:T,onLeave:_,onLeaveCancelled:C,onBeforeAppear:j=O,onAppear:L=w,onAppearCancelled:se=T}=e,V=(P,z,ke,Ee)=>{P._enterCancelled=Ee,Qt(P,z?c:a),Qt(P,z?u:o),ke&&ke()},X=(P,z)=>{P._isLeaving=!1,Qt(P,f),Qt(P,p),Qt(P,h),z&&z()},M=P=>(z,ke)=>{const Ee=P?L:w,we=()=>V(z,P,ke);Gt(Ee,[z,we]),Wi(()=>{Qt(z,P?l:i),_t(z,P?c:a),zi(Ee)||Gi(z,n,b,we)})};return Te(e,{onBeforeEnter(P){Gt(O,[P]),_t(P,i),_t(P,o)},onBeforeAppear(P){Gt(j,[P]),_t(P,l),_t(P,u)},onEnter:M(!1),onAppear:M(!0),onLeave(P,z){P._isLeaving=!0;const ke=()=>X(P,z);_t(P,f),P._enterCancelled?(_t(P,h),Xi()):(Xi(),_t(P,h)),Wi(()=>{P._isLeaving&&(Qt(P,f),_t(P,p),zi(_)||Gi(P,n,A,ke))}),Gt(_,[P,ke])},onEnterCancelled(P){V(P,!1,void 0,!0),Gt(T,[P])},onAppearCancelled(P){V(P,!0,void 0,!0),Gt(se,[P])},onLeaveCancelled(P){X(P),Gt(C,[P])}})}function nd(t){if(t==null)return null;if(pe(t))return[gr(t.enter),gr(t.leave)];{const e=gr(t);return[e,e]}}function gr(t){return ac(t)}function _t(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[un]||(t[un]=new Set)).add(e)}function Qt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[un];s&&(s.delete(e),s.size||(t[un]=void 0))}function Wi(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rd=0;function Gi(t,e,s,n){const r=t._endId=++rd,i=()=>{r===t._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=id(t,e);if(!o)return n();const u=o+"end";let c=0;const f=()=>{t.removeEventListener(u,h),i()},h=p=>{p.target===t&&++c>=l&&f()};setTimeout(()=>{c<l&&f()},a+1),t.addEventListener(u,h)}function id(t,e){const s=window.getComputedStyle(t),n=y=>(s[y]||"").split(", "),r=n(`${At}Delay`),i=n(`${At}Duration`),o=Qi(r,i),a=n(`${Ds}Delay`),l=n(`${Ds}Duration`),u=Qi(a,l);let c=null,f=0,h=0;e===At?o>0&&(c=At,f=o,h=i.length):e===Ds?u>0&&(c=Ds,f=u,h=l.length):(f=Math.max(o,u),c=f>0?o>u?At:Ds:null,h=c?c===At?i.length:l.length:0);const p=c===At&&/\b(transform|all)(,|$)/.test(n(`${At}Property`).toString());return{type:c,timeout:f,propCount:h,hasTransform:p}}function Qi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>Yi(s)+Yi(t[n])))}function Yi(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Xi(){return document.body.offsetHeight}function od(t,e,s){const n=t[un];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const qn=Symbol("_vod"),gl=Symbol("_vsh"),Us={beforeMount(t,{value:e},{transition:s}){t[qn]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Ns(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),Ns(t,!0),n.enter(t)):n.leave(t,()=>{Ns(t,!1)}):Ns(t,e))},beforeUnmount(t,{value:e}){Ns(t,e)}};function Ns(t,e){t.style.display=e?t[qn]:"none",t[gl]=!e}const ad=Symbol(""),ld=/(^|;)\s*display\s*:/;function cd(t,e,s){const n=t.style,r=be(s);let i=!1;if(s&&!r){if(e)if(be(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Ln(n,a,"")}else for(const o in e)s[o]==null&&Ln(n,o,"");for(const o in s)o==="display"&&(i=!0),Ln(n,o,s[o])}else if(r){if(e!==s){const o=n[ad];o&&(s+=";"+o),n.cssText=s,i=ld.test(s)}}else e&&t.removeAttribute("style");qn in t&&(t[qn]=i?n.display:"",t[gl]&&(n.display="none"))}const Zi=/\s*!important$/;function Ln(t,e,s){if(J(s))s.forEach(n=>Ln(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=ud(t,e);Zi.test(s)?t.setProperty(Vt(n),s.replace(Zi,""),"important"):t[n]=s}}const eo=["Webkit","Moz","ms"],mr={};function ud(t,e){const s=mr[e];if(s)return s;let n=Ye(e);if(n!=="filter"&&n in t)return mr[e]=n;n=Wn(n);for(let r=0;r<eo.length;r++){const i=eo[r]+n;if(i in t)return mr[e]=i}return e}const to="http://www.w3.org/1999/xlink";function so(t,e,s,n,r,i=hc(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(to,e.slice(6,e.length)):t.setAttributeNS(to,e,s):s==null||i&&!ia(s)?t.removeAttribute(e):t.setAttribute(e,i?"":gt(s)?String(s):s)}function no(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?hl(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=ia(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function Nt(t,e,s,n){t.addEventListener(e,s,n)}function dd(t,e,s,n){t.removeEventListener(e,s,n)}const ro=Symbol("_vei");function fd(t,e,s,n,r=null){const i=t[ro]||(t[ro]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=hd(e);if(n){const u=i[e]=md(n,r);Nt(t,a,u,l)}else o&&(dd(t,a,o,l),i[e]=void 0)}}const io=/(?:Once|Passive|Capture)$/;function hd(t){let e;if(io.test(t)){e={};let n;for(;n=t.match(io);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Vt(t.slice(2)),e]}let vr=0;const pd=Promise.resolve(),gd=()=>vr||(pd.then(()=>vr=0),vr=Date.now());function md(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;nt(vd(n,s.value),e,5,[n])};return s.value=t,s.attached=gd(),s}function vd(t,e){if(J(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const oo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yd=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?od(t,n,o):e==="style"?cd(t,s,n):Kn(e)?ti(e)||fd(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_d(t,e,n,o))?(no(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&so(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!be(n))?no(t,Ye(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),so(t,e,n,o))};function _d(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&oo(e)&&Y(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return oo(e)&&be(s)?!1:e in t}const Ts=t=>{const e=t.props["onUpdate:modelValue"]||!1;return J(e)?s=>Rn(e,s):e};function bd(t){t.target.composing=!0}function ao(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Tt=Symbol("_assign"),et={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[Tt]=Ts(r);const i=n||r.props&&r.props.type==="number";Nt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Mn(a)),t[Tt](a)}),s&&Nt(t,"change",()=>{t.value=t.value.trim()}),e||(Nt(t,"compositionstart",bd),Nt(t,"compositionend",ao),Nt(t,"change",ao))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(t[Tt]=Ts(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Mn(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===l)||(t.value=l))}},Cn={deep:!0,created(t,e,s){t[Tt]=Ts(s),Nt(t,"change",()=>{const n=t._modelValue,r=dn(t),i=t.checked,o=t[Tt];if(J(n)){const a=ri(n,r),l=a!==-1;if(i&&!l)o(n.concat(r));else if(!i&&l){const u=[...n];u.splice(a,1),o(u)}}else if(js(n)){const a=new Set(n);i?a.add(r):a.delete(r),o(a)}else o(ml(t,i))})},mounted:lo,beforeUpdate(t,e,s){t[Tt]=Ts(s),lo(t,e,s)}};function lo(t,{value:e,oldValue:s},n){t._modelValue=e;let r;if(J(e))r=ri(e,n.props.value)>-1;else if(js(e))r=e.has(n.props.value);else{if(e===s)return;r=mn(e,ml(t,!0))}t.checked!==r&&(t.checked=r)}const co={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=js(e);Nt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Mn(dn(o)):dn(o));t[Tt](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,kt(()=>{t._assigning=!1})}),t[Tt]=Ts(n)},mounted(t,{value:e}){uo(t,e)},beforeUpdate(t,e,s){t[Tt]=Ts(s)},updated(t,{value:e}){t._assigning||uo(t,e)}};function uo(t,e){const s=t.multiple,n=J(e);if(!(s&&!n&&!js(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=dn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=ri(e,a)>-1}else o.selected=e.has(a);else if(mn(dn(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function dn(t){return"_value"in t?t._value:t.value}function ml(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const wd={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Fr=(t,e)=>{const s=t._withKeys||(t._withKeys={}),n=e.join(".");return s[n]||(s[n]=r=>{if(!("key"in r))return;const i=Vt(r.key);if(e.some(o=>o===i||wd[o]===i))return t(r)})},Sd=Te({patchProp:yd},Xu);let fo;function kd(){return fo||(fo=wu(Sd))}const Ed=(...t)=>{const e=kd().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=xd(n);if(!r)return;const i=e._component;!Y(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,Cd(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function Cd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function xd(t){return be(t)?document.querySelector(t):t}const Td="modulepreload",Pd=function(t,e){return new URL(t,e).href},ho={},Ps=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(s.map(u=>{if(u=Pd(u,n),u in ho)return;ho[u]=!0;const c=u.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(!!n)for(let y=o.length-1;y>=0;y--){const b=o[y];if(b.href===u&&(!c||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":Td,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((y,b)=>{p.addEventListener("load",y),p.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Od=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Is);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class yi extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class Ad extends yi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rd extends yi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class jd extends yi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Br;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Br||(Br={}));var $d=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Id{constructor(e,{headers:s={},customFetch:n,region:r=Br.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=Od(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return $d(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(y=>{throw new Ad(y)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Rd(c);if(!c.ok)throw new jd(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield c.json():h==="application/octet-stream"?p=yield c.blob():h==="text/event-stream"?p=c:h==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}})}}function Ld(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Md(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var Ce={},cs={},us={},ds={},fs={},hs={},Dd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Os=Dd();const Ud=Os.fetch,vl=Os.fetch.bind(Os),yl=Os.Headers,Nd=Os.Request,Fd=Os.Response,Is=Object.freeze(Object.defineProperty({__proto__:null,Headers:yl,Request:Nd,Response:Fd,default:vl,fetch:Ud},Symbol.toStringTag,{value:"Module"})),Bd=Md(Is);var xn={},po;function _l(){if(po)return xn;po=1,Object.defineProperty(xn,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return xn.default=t,xn}var go;function bl(){if(go)return hs;go=1;var t=hs&&hs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hs,"__esModule",{value:!0});const e=t(Bd),s=t(_l());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,f,h;let p=null,y=null,b=null,A=u.status,O=u.statusText;if(u.ok){if(this.method!=="HEAD"){const C=await u.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=C:y=JSON.parse(C))}const T=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),_=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");T&&_&&_.length>1&&(b=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,A=406,O="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const T=await u.text();try{p=JSON.parse(T),Array.isArray(p)&&u.status===404&&(y=[],p=null,A=200,O="OK")}catch{u.status===404&&T===""?(A=204,O="No Content"):p={message:T}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,A=200,O="OK"),p&&this.shouldThrowOnError)throw new s.default(p)}return{error:p,data:y,count:b,status:A,statusText:O}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,f,h;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return hs.default=n,hs}var mo;function wl(){if(mo)return fs;mo=1;var t=fs&&fs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fs,"__esModule",{value:!0});const e=t(bl());class s extends e.default{select(r){let i=!1;const o=(r??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(r,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${r}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${i-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:r=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const f=[r?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`,u==="json"?this:this}rollback(){var r;return((r=this.headers.Prefer)!==null&&r!==void 0?r:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return fs.default=s,fs}var vo;function _i(){if(vo)return ds;vo=1;var t=ds&&ds.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ds,"__esModule",{value:!0});const e=t(wl());class s extends e.default{eq(r,i){return this.url.searchParams.append(r,`eq.${i}`),this}neq(r,i){return this.url.searchParams.append(r,`neq.${i}`),this}gt(r,i){return this.url.searchParams.append(r,`gt.${i}`),this}gte(r,i){return this.url.searchParams.append(r,`gte.${i}`),this}lt(r,i){return this.url.searchParams.append(r,`lt.${i}`),this}lte(r,i){return this.url.searchParams.append(r,`lte.${i}`),this}like(r,i){return this.url.searchParams.append(r,`like.${i}`),this}likeAllOf(r,i){return this.url.searchParams.append(r,`like(all).{${i.join(",")}}`),this}likeAnyOf(r,i){return this.url.searchParams.append(r,`like(any).{${i.join(",")}}`),this}ilike(r,i){return this.url.searchParams.append(r,`ilike.${i}`),this}ilikeAllOf(r,i){return this.url.searchParams.append(r,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(r,i){return this.url.searchParams.append(r,`ilike(any).{${i.join(",")}}`),this}is(r,i){return this.url.searchParams.append(r,`is.${i}`),this}in(r,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${o})`),this}contains(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cs.{${i.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(i)}`),this}containedBy(r,i){return typeof i=="string"?this.url.searchParams.append(r,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(r,`cd.{${i.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(i)}`),this}rangeGt(r,i){return this.url.searchParams.append(r,`sr.${i}`),this}rangeGte(r,i){return this.url.searchParams.append(r,`nxl.${i}`),this}rangeLt(r,i){return this.url.searchParams.append(r,`sl.${i}`),this}rangeLte(r,i){return this.url.searchParams.append(r,`nxr.${i}`),this}rangeAdjacent(r,i){return this.url.searchParams.append(r,`adj.${i}`),this}overlaps(r,i){return typeof i=="string"?this.url.searchParams.append(r,`ov.${i}`):this.url.searchParams.append(r,`ov.{${i.join(",")}}`),this}textSearch(r,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(r,`${l}fts${u}.${i}`),this}match(r){return Object.entries(r).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(r,i,o){return this.url.searchParams.append(r,`not.${i}.${o}`),this}or(r,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,i,o){return this.url.searchParams.append(r,`${i}.${o}`),this}}return ds.default=s,ds}var yo;function Sl(){if(yo)return us;yo=1;var t=us&&us.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(us,"__esModule",{value:!0});const e=t(_i());class s{constructor(r,{headers:i={},schema:o,fetch:a}){this.url=r,this.headers=i,this.schema=o,this.fetch=a}select(r,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(r??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(r,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(r)){const u=r.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}upsert(r,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(r)){const f=r.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}update(r,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:this.fetch,allowEmpty:!1})}delete({count:r}={}){const i="DELETE",o=[];return r&&o.push(`count=${r}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return us.default=s,us}var Fs={},Bs={},_o;function Hd(){return _o||(_o=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.version=void 0,Bs.version="0.0.0-automated"),Bs}var bo;function Vd(){if(bo)return Fs;bo=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.DEFAULT_HEADERS=void 0;const t=Hd();return Fs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Fs}var wo;function qd(){if(wo)return cs;wo=1;var t=cs&&cs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cs,"__esModule",{value:!0});const e=t(Sl()),s=t(_i()),n=Vd();class r{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new r(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let f;const h=new URL(`${this.url}/rpc/${o}`);let p;l||u?(f=l?"HEAD":"GET",Object.entries(a).filter(([b,A])=>A!==void 0).map(([b,A])=>[b,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([b,A])=>{h.searchParams.append(b,A)})):(f="POST",p=a);const y=Object.assign({},this.headers);return c&&(y.Prefer=`count=${c}`),new s.default({method:f,url:h,headers:y,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return cs.default=r,cs}var So;function Jd(){if(So)return Ce;So=1;var t=Ce&&Ce.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.PostgrestError=Ce.PostgrestBuilder=Ce.PostgrestTransformBuilder=Ce.PostgrestFilterBuilder=Ce.PostgrestQueryBuilder=Ce.PostgrestClient=void 0;const e=t(qd());Ce.PostgrestClient=e.default;const s=t(Sl());Ce.PostgrestQueryBuilder=s.default;const n=t(_i());Ce.PostgrestFilterBuilder=n.default;const r=t(wl());Ce.PostgrestTransformBuilder=r.default;const i=t(bl());Ce.PostgrestBuilder=i.default;const o=t(_l());return Ce.PostgrestError=o.default,Ce.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:i.default,PostgrestError:o.default},Ce}var Kd=Jd();const zd=Ld(Kd),{PostgrestClient:Wd,PostgrestQueryBuilder:Hy,PostgrestFilterBuilder:Vy,PostgrestTransformBuilder:qy,PostgrestBuilder:Jy,PostgrestError:Ky}=zd,Gd="2.11.2",Qd={"X-Client-Info":`realtime-js/${Gd}`},Yd="1.0.0",kl=1e4,Xd=1e3;var xs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xs||(xs={}));var Je;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Je||(Je={}));var Xe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Xe||(Xe={}));var Hr;(function(t){t.websocket="websocket"})(Hr||(Hr={}));var ts;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ts||(ts={}));class Zd{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class El{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(me||(me={}));const ko=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=ef(o,t,e,r),i),{})},ef=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?Cl(i,o):Vr(o)},Cl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return rf(e,s)}switch(t){case me.bool:return tf(e);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return sf(e);case me.json:case me.jsonb:return nf(e);case me.timestamp:return of(e);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return Vr(e);default:return Vr(e)}},Vr=t=>t,tf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},sf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nf=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},rf=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Cl(e,a))}return t},of=t=>typeof t=="string"?t.replace(" ","T"):t,xl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class yr{constructor(e,s,n={},r=kl){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Eo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Eo||(Eo={}));class Ys{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ys.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=Ys.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ys.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const h=c.map(A=>A.presence_ref),p=f.map(A=>A.presence_ref),y=c.filter(A=>p.indexOf(A.presence_ref)<0),b=f.filter(A=>h.indexOf(A.presence_ref)<0);y.length>0&&(a[u]=y),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(p=>p.presence_ref),h=c.filter(p=>f.indexOf(p.presence_ref)<0);e[a].unshift(...h)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,r(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Co;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Co||(Co={}));var xo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xo||(xo={}));var St;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class bi{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new yr(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new El(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Ys(this),this.broadcastEndpointURL=xl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>e==null?void 0:e(St.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(St.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){e==null||e(St.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,y=[];for(let b=0;b<p;b++){const A=h[b],{filter:{event:O,schema:w,table:T,filter:_}}=A,C=c&&c[b];if(C&&C.event===O&&C.schema===w&&C.table===T&&C.filter===_)y.push(Object.assign(Object.assign({},A),{id:C.id}));else{this.unsubscribe(),e==null||e(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(St.SUBSCRIBED);return}}).receive("error",c=>{e==null||e(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Je.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new yr(this,Xe.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new yr(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Xe;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,s,n);if(s&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(p=>{var y,b,A;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((A=(b=p.filter)===null||b===void 0?void 0:b.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var y,b,A,O,w,T;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,C=(y=p.filter)===null||y===void 0?void 0:y.event;return _&&((b=s.ids)===null||b===void 0?void 0:b.includes(_))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const _=(w=(O=p==null?void 0:p.filter)===null||O===void 0?void 0:O.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return _==="*"||_===((T=s==null?void 0:s.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:A,commit_timestamp:O,type:w,errors:T}=y;h=Object.assign(Object.assign({},{schema:b,table:A,commit_timestamp:O,eventType:w,new:{},old:{},errors:T}),this._getPayloadRecords(y))}p.callback(h,n)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&bi.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Xe.close,{},e)}_onError(e){this._on(Xe.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=ko(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=ko(e.columns,e.old_record)),s}}const af=()=>{},lf=typeof WebSocket<"u",cf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class uf{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Qd,this.params={},this.timeout=kl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=af,this.conn=null,this.sendBuffer=[],this.serializer=new Zd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Ps(async()=>{const{default:l}=await Promise.resolve().then(()=>Is);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Hr.websocket}`,this.httpEndpoint=xl(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new El(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(lf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new df(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ps(async()=>{const{default:e}=await import("./browser-BL9BLF-z.js").then(s=>s.b);return{default:e}},[],import.meta.url).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yd}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return ts.Connecting;case xs.open:return ts.Open;case xs.closing:return ts.Closing;default:return ts.Closed}}isConnected(){return this.connectionState()===ts.Open}channel(e,s={config:{}}){const n=new bi(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(Xe.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Xd,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Xe.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([cf],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class df{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class wi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ff extends wi{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class qr extends wi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var hf=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Tl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Is);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},pf=()=>hf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ps(()=>Promise.resolve().then(()=>Is),void 0,import.meta.url)).Response:Response}),Jr=t=>{if(Array.isArray(t))return t.map(s=>Jr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=Jr(n)}),e};var rs=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const _r=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gf=(t,e,s)=>rs(void 0,void 0,void 0,function*(){const n=yield pf();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{e(new ff(_r(r),t.status||500))}).catch(r=>{e(new qr(_r(r),r))}):e(new qr(_r(t),t))}),mf=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function _n(t,e,s,n,r,i){return rs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,mf(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>gf(l,a,n))})})}function Jn(t,e,s,n){return rs(this,void 0,void 0,function*(){return _n(t,"GET",e,s,n)})}function Dt(t,e,s,n,r){return rs(this,void 0,void 0,function*(){return _n(t,"POST",e,n,r,s)})}function vf(t,e,s,n,r){return rs(this,void 0,void 0,function*(){return _n(t,"PUT",e,n,r,s)})}function yf(t,e,s,n){return rs(this,void 0,void 0,function*(){return _n(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Pl(t,e,s,n,r){return rs(this,void 0,void 0,function*(){return _n(t,"DELETE",e,n,r,s)})}var Ue=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const _f={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},To={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bf{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Tl(r)}uploadOrUpdate(e,s,n,r){return Ue(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},To),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(xe(i))return{data:null,error:i};throw i}})}upload(e,s,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return Ue(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:To.upsert},r),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(xe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ue(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield Dt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new wi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}update(e,s,n){return Ue(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return Ue(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}copy(e,s,n){return Ue(this,void 0,void 0,function*(){try{return{data:{path:(yield Dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return Ue(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Dt(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return Ue(this,void 0,void 0,function*(){try{const r=yield Dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}download(e,s){return Ue(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Jn(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}info(e){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Jn(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Jr(n),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}exists(e){return Ue(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield yf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xe(n)&&n instanceof qr){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return Ue(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}list(e,s,n){return Ue(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},_f),s),{prefix:e||""});return{data:yield Dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const wf="2.7.1",Sf={"X-Client-Info":`storage-js/${wf}`};var ps=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class kf{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},Sf),s),this.fetch=Tl(n)}listBuckets(){return ps(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xe(e))return{data:null,error:e};throw e}})}getBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return ps(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return ps(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield Dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}}class Ef extends kf{constructor(e,s={},n){super(e,s,n)}from(e){return new bf(this.url,this.headers,e,this.fetch)}}const Cf="2.49.4";let qs="";typeof Deno<"u"?qs="deno":typeof document<"u"?qs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qs="react-native":qs="node";const xf={"X-Client-Info":`supabase-js-${qs}/${Cf}`},Tf={headers:xf},Pf={schema:"public"},Of={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Af={};var Rf=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const jf=t=>{let e;return t?e=t:typeof fetch>"u"?e=vl:e=fetch,(...s)=>e(...s)},$f=()=>typeof Headers>"u"?yl:Headers,If=(t,e,s)=>{const n=jf(s),r=$f();return(i,o)=>Rf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new r(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Lf=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function Mf(t){return t.replace(/\/$/,"")}function Df(t,e){const{db:s,auth:n,realtime:r,global:i}=t,{db:o,auth:a,realtime:l,global:u}=e,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},u),i),accessToken:()=>Lf(this,void 0,void 0,function*(){return""})};return t.accessToken?c.accessToken=t.accessToken:delete c.accessToken,c}const Ol="2.69.1",ys=30*1e3,Kr=3,br=Kr*ys,Uf="http://localhost:9999",Nf="supabase.auth.token",Ff={"X-Client-Info":`gotrue-js/${Ol}`},zr="X-Supabase-Api-Version",Al={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hf=6e5;class Si extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ee(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Vf extends Si{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function qf(t){return ee(t)&&t.name==="AuthApiError"}class Rl extends Si{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Kt extends Si{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class jt extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jf(t){return ee(t)&&t.name==="AuthSessionMissingError"}class wr extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tn extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Pn extends Kt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Kf(t){return ee(t)&&t.name==="AuthImplicitGrantRedirectError"}class Po extends Kt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wr extends Kt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Sr(t){return ee(t)&&t.name==="AuthRetryableFetchError"}class Oo extends Kt{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Xs extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ro=` 	
\r=`.split(""),zf=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ro.length;e+=1)t[Ro[e].charCodeAt(0)]=-2;for(let e=0;e<Ao.length;e+=1)t[Ao[e].charCodeAt(0)]=e;return t})();function jl(t,e,s){const n=zf[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function jo(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{Qf(o,n,s)};for(let o=0;o<t.length;o+=1)jl(t.charCodeAt(o),r,i);return e.join("")}function Wf(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Gf(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}Wf(n,e)}}function Qf(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Yf(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)jl(t.charCodeAt(r),s,n);return new Uint8Array(e)}function Xf(t){const e=[];return Gf(t,s=>e.push(s)),new Uint8Array(e)}function Zf(t){return Math.round(Date.now()/1e3)+t}function eh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ut=()=>typeof window<"u"&&typeof document<"u",Yt={tested:!1,writable:!1},Zs=()=>{if(!ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yt.tested)return Yt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yt.tested=!0,Yt.writable=!0}catch{Yt.tested=!0,Yt.writable=!1}return Yt.writable};function th(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const $l=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ps(async()=>{const{default:n}=await Promise.resolve().then(()=>Is);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},sh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Il=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},On=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},An=async(t,e)=>{await t.removeItem(e)};class rr{constructor(){this.promise=new rr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}rr.promiseConstructor=Promise;function kr(t){const e=t.split(".");if(e.length!==3)throw new Xs("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Bf.test(e[n]))throw new Xs("JWT not in base64url format");return{header:JSON.parse(jo(e[0])),payload:JSON.parse(jo(e[1])),signature:Yf(e[2]),raw:{header:e[0],payload:e[1]}}}async function nh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function rh(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function ih(t){return("0"+t.toString(16)).substr(-2)}function oh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,ih).join("")}async function ah(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function lh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await ah(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(t,e,s=!1){const n=oh();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await Il(t,`${e}-code-verifier`,r);const i=await lh(n);return[i,n===i?"plain":"s256"]}const ch=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uh(t){const e=t.headers.get(zr);if(!e||!e.match(ch))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function dh(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function fh(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var hh=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const Zt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ph=[502,503,504];async function $o(t){var e;if(!sh(t))throw new Wr(Zt(t),0);if(ph.includes(t.status))throw new Wr(Zt(t),t.status);let s;try{s=await t.json()}catch(i){throw new Rl(Zt(i),i)}let n;const r=uh(t);if(r&&r.getTime()>=Al["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Oo(Zt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new jt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Oo(Zt(s),t.status,s.weak_password.reasons);throw new Vf(Zt(s),t.status||500,n)}const gh=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function ne(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[zr]||(i[zr]=Al["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await mh(t,e,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function mh(t,e,s,n,r,i){const o=gh(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Wr(Zt(l),0)}if(a.ok||await $o(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await $o(l)}}function $t(t){var e;let s=null;bh(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Zf(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Io(t){const e=$t(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ft(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function vh(t){return{data:t,error:null}}function yh(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=hh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function _h(t){return t}function bh(t){return t.access_token&&t.refresh_token&&t.expires_in}var wh=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class Sh{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=$l(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ft})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=wh(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:yh,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ee(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ft})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:_h});if(c.error)throw c.error;const f=await c.json(),h=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(y.split(";")[1].split("=")[1]);u[`${A}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ft})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ft})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ft})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}}const kh={getItem:t=>Zs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Zs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Zs()&&globalThis.localStorage.removeItem(t)}};function Lo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Eh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ms={debug:!!(globalThis&&Zs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ll extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ch extends Ll{}async function xh(t,e,s){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ch(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ms.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Eh();const Th={url:Uf,storageKey:Nf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ff,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mo(t,e,s){return await s()}class fn{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fn.nextInstanceID,fn.nextInstanceID+=1,this.instanceID>0&&ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Th),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Sh({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=$l(r.fetch),this.lock=r.lock||Mo,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ut()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=xh:this.lock=Mo,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Zs()?this.storage=kh:(this.memoryStorage={},this.storage=Lo(this.memoryStorage)):(this.memoryStorage={},this.storage=Lo(this.memoryStorage)),ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ol}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=th(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),ut()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Kf(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ee(s)?{error:s}:{error:new Rl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:$t}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:c,password:f,options:h}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await gs(this.storage,this.storageKey)),i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:$t})}else if("phone"in e){const{phone:c,password:f,options:h}=e;i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:$t})}else throw new Tn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ee(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Io})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Io})}else throw new Tn("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new wr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await On(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$t});if(await An(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new wr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(ee(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:$t}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new wr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await gs(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Tn("You must provide either an email or phone number.")}catch(a){if(ee(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:$t});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await gs(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:vh})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new jt;const{error:r}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Tn("You must provide either an email or phone number and a type")}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<br:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ft}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Ft})})}catch(s){if(ee(s))return Jf(s)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new jt;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await gs(this.storage,this.storageKey));const{data:u,error:c}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ft});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=kr(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(ee(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ee(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!ut())throw new Pn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Pn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Po("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Pn("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Po("No code detected.");const{data:w,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Pn("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let h=c+f;l&&(h=parseInt(l));const p=h-c;p*1e3<=ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:b,error:A}=await this._getUser(i);if(A)throw A;const O={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:e.type},error:null}}catch(n){if(ee(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(qf(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=eh(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await gs(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(ee(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return ut()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ee(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await rh(async r=>(r>0&&await nh(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$t})),(r,i)=>{const o=200*Math.pow(2,r);return i&&Sr(i)&&Date.now()+o-n<ys})}catch(n){if(this._debug(s,"error",n),ee(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),ut()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await On(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<br;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${br}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Sr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new rr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),ee(i)){const o={session:null,error:i};return Sr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Il(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ys}ms, refresh threshold is ${Kr} ticks`),r<=Kr&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ll)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await gs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await ne(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ee(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await ne(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ee(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=kr(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Hf>Date.now()))return n;const{data:r,error:i}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Xs("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(o=>o.kid===e),!n)throw new Xs("No matching signing key found in JWKS");return n}async getClaims(e,s={keys:[]}){try{let n=e;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=kr(n);if(dh(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:r,signature:o},error:null}}const u=fh(r.alg),c=await this.fetchJwk(r.kid,s),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,Xf(`${a}.${l}`)))throw new Xs("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}}fn.nextInstanceID=0;const Ph=fn;class Oh extends Ph{constructor(e){super(e)}}var Ah=function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):r(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};class Rh{constructor(e,s,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Mf(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Pf,realtime:Af,auth:Object.assign(Object.assign({},Of),{storageKey:l}),global:Tf},c=Df(n??{},u);this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=If(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Wd(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Id(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ef(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ah(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:a,debug:l},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Oh({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new uf(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jh=(t,e,s)=>new Rh(t,e,s),$h="https://ydobfvxubvzsspzaahqq.supabase.co",Ih="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inlkb2Jmdnh1YnZ6c3NwemFhaHFxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM0NzQzOTEsImV4cCI6MjA1OTA1MDM5MX0.PQCHUysRQB0No-gHs47nswuprgoyhzdYuVH-7R6Ptik",ft=jh($h,Ih);async function Lh(){try{const{data:t,error:e}=await ft.from("external_tools").select("*").order("sort_order",{ascending:!0});return e?(console.error("获取外链工具失败:",e),[]):t||[]}catch(t){return console.error("获取外链工具异常:",t),[]}}const mt=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},Mh={name:"App",data(){return{dropdowns:{tools:!1,resources:!1},mobileDropdowns:{tools:!1,resources:!1},mobileMenuOpen:!1,externalTools:[],loadingExternalTools:!1,externalToolsError:null}},created(){this.fetchExternalTools(),document.addEventListener("click",this.closeDropdowns)},beforeUnmount(){document.removeEventListener("click",this.closeDropdowns)},methods:{toggleDropdown(t){event.stopPropagation(),Object.keys(this.dropdowns).forEach(e=>{e!==t&&(this.dropdowns[e]=!1)}),this.dropdowns[t]=!this.dropdowns[t]},toggleMobileDropdown(t){this.mobileDropdowns[t]=!this.mobileDropdowns[t]},closeDropdowns(t){t.target.closest(".nav-item")||Object.keys(this.dropdowns).forEach(e=>{this.dropdowns[e]=!1})},async fetchExternalTools(){try{this.loadingExternalTools=!0,this.externalToolsError=null,this.externalTools=await Lh()}catch(t){console.error("获取外链工具失败:",t),this.externalToolsError="加载失败"}finally{this.loadingExternalTools=!1}}}},Dh={class:"app"},Uh={class:"header"},Nh={class:"container header-container"},Fh={class:"logo"},Bh={class:"main-nav"},Hh={class:"dropdown-menu"},Vh={class:"dropdown-menu"},qh={key:0,class:"dropdown-item disabled"},Jh={key:1,class:"dropdown-item disabled"},Kh={key:2,class:"dropdown-item disabled"},zh=["href"],Wh={class:"item-icon"},Gh={class:"mobile-menu"},Qh={class:"container"},Yh={class:"mobile-dropdown"},Xh={class:"mobile-dropdown-items"},Zh={class:"mobile-dropdown"},ep={class:"mobile-dropdown-items"},tp={key:0,class:"mobile-dropdown-item disabled"},sp={key:1,class:"mobile-dropdown-item disabled"},np={key:2,class:"mobile-dropdown-item disabled"},rp=["href"],ip={class:"item-icon"},op={class:"main-content"},ap={class:"container"},lp={class:"footer"},cp={class:"footer-wrapper"},up={class:"footer-content"},dp={class:"footer-section"},fp={class:"footer-links"},hp={class:"footer-section"},pp={class:"footer-links"};function gp(t,e,s,n,r,i){const o=$r("router-link"),a=$r("router-view");return N(),B("div",Dh,[d("header",Uh,[d("div",Nh,[d("div",Fh,[Z(o,{to:"/"},{default:ue(()=>e[13]||(e[13]=[d("span",{class:"logo-icon"},"⚙️",-1),d("span",{class:"logo-text"},"工具集",-1)])),_:1})]),d("nav",Bh,[Z(o,{to:"/",class:"nav-item"},{default:ue(()=>e[14]||(e[14]=[ye("首页")])),_:1}),d("div",{class:"nav-item",onClick:e[0]||(e[0]=l=>i.toggleDropdown("tools"))},[e[20]||(e[20]=d("span",null,"工具",-1)),d("span",{class:Fe(["dropdown-icon",{"dropdown-open":r.dropdowns.tools}])},"▾",2),_e(d("div",Hh,[Z(o,{to:"/tools/excel-formatter",class:"dropdown-item"},{default:ue(()=>e[15]||(e[15]=[d("span",{class:"item-icon"},"📊",-1),d("span",null,"Excel格式化",-1)])),_:1}),Z(o,{to:"/tools/json-formatter",class:"dropdown-item"},{default:ue(()=>e[16]||(e[16]=[d("span",{class:"item-icon"},"{}",-1),d("span",null,"JSON格式化",-1)])),_:1}),Z(o,{to:"/tools/text-diff",class:"dropdown-item"},{default:ue(()=>e[17]||(e[17]=[d("span",{class:"item-icon"},"⟷",-1),d("span",null,"文本对比",-1)])),_:1}),Z(o,{to:"/tools/color-picker",class:"dropdown-item"},{default:ue(()=>e[18]||(e[18]=[d("span",{class:"item-icon"},"🎨",-1),d("span",null,"颜色选择器",-1)])),_:1}),Z(o,{to:"/tools/video-parser",class:"dropdown-item"},{default:ue(()=>e[19]||(e[19]=[d("span",{class:"item-icon"},"🎬",-1),d("span",null,"视频解析",-1)])),_:1})],512),[[Us,r.dropdowns.tools]])]),d("div",{class:"nav-item",onClick:e[1]||(e[1]=l=>i.toggleDropdown("resources"))},[e[24]||(e[24]=d("span",null,"资源",-1)),d("span",{class:Fe(["dropdown-icon",{"dropdown-open":r.dropdowns.resources}])},"▾",2),_e(d("div",Vh,[r.loadingExternalTools?(N(),B("div",qh,e[21]||(e[21]=[d("span",null,"加载中...",-1)]))):r.externalToolsError?(N(),B("div",Jh,[d("span",null,te(r.externalToolsError),1)])):r.externalTools.length===0?(N(),B("div",Kh,e[22]||(e[22]=[d("span",null,"暂无外部资源",-1)]))):(N(!0),B(Se,{key:3},Ze(r.externalTools,l=>(N(),B("a",{key:l.id,href:l.url,target:"_blank",class:"dropdown-item external"},[d("span",Wh,te(l.icon),1),d("span",null,te(l.name),1),e[23]||(e[23]=d("span",{class:"external-indicator"},"↗",-1))],8,zh))),128))],512),[[Us,r.dropdowns.resources]])]),Z(o,{to:"/about",class:"nav-item"},{default:ue(()=>e[25]||(e[25]=[ye("关于")])),_:1})]),d("button",{class:"mobile-menu-toggle",onClick:e[2]||(e[2]=l=>r.mobileMenuOpen=!r.mobileMenuOpen)},e[26]||(e[26]=[d("span",null,null,-1),d("span",null,null,-1),d("span",null,null,-1)]))])]),_e(d("div",Gh,[d("div",Qh,[Z(o,{to:"/",class:"mobile-nav-item",onClick:e[3]||(e[3]=l=>r.mobileMenuOpen=!1)},{default:ue(()=>e[27]||(e[27]=[ye("首页")])),_:1}),d("div",Yh,[d("div",{class:"mobile-nav-item",onClick:e[4]||(e[4]=l=>i.toggleMobileDropdown("tools"))},[e[28]||(e[28]=d("span",null,"工具",-1)),d("span",{class:Fe(["dropdown-icon",{"dropdown-open":r.mobileDropdowns.tools}])},"▾",2)]),_e(d("div",Xh,[Z(o,{to:"/tools/excel-formatter",class:"mobile-dropdown-item",onClick:e[5]||(e[5]=l=>r.mobileMenuOpen=!1)},{default:ue(()=>e[29]||(e[29]=[d("span",{class:"item-icon"},"📊",-1),d("span",null,"Excel格式化",-1)])),_:1}),Z(o,{to:"/tools/json-formatter",class:"mobile-dropdown-item",onClick:e[6]||(e[6]=l=>r.mobileMenuOpen=!1)},{default:ue(()=>e[30]||(e[30]=[d("span",{class:"item-icon"},"{}",-1),d("span",null,"JSON格式化",-1)])),_:1}),Z(o,{to:"/tools/text-diff",class:"mobile-dropdown-item",onClick:e[7]||(e[7]=l=>r.mobileMenuOpen=!1)},{default:ue(()=>e[31]||(e[31]=[d("span",{class:"item-icon"},"⟷",-1),d("span",null,"文本对比",-1)])),_:1}),Z(o,{to:"/tools/color-picker",class:"mobile-dropdown-item",onClick:e[8]||(e[8]=l=>r.mobileMenuOpen=!1)},{default:ue(()=>e[32]||(e[32]=[d("span",{class:"item-icon"},"🎨",-1),d("span",null,"颜色选择器",-1)])),_:1}),Z(o,{to:"/tools/video-parser",class:"mobile-dropdown-item",onClick:e[9]||(e[9]=l=>r.mobileMenuOpen=!1)},{default:ue(()=>e[33]||(e[33]=[d("span",{class:"item-icon"},"🎬",-1),d("span",null,"视频解析",-1)])),_:1})],512),[[Us,r.mobileDropdowns.tools]])]),d("div",Zh,[d("div",{class:"mobile-nav-item",onClick:e[10]||(e[10]=l=>i.toggleMobileDropdown("resources"))},[e[34]||(e[34]=d("span",null,"资源",-1)),d("span",{class:Fe(["dropdown-icon",{"dropdown-open":r.mobileDropdowns.resources}])},"▾",2)]),_e(d("div",ep,[r.loadingExternalTools?(N(),B("div",tp,"加载中...")):r.externalToolsError?(N(),B("div",sp,te(r.externalToolsError),1)):r.externalTools.length===0?(N(),B("div",np,"暂无外部资源")):(N(!0),B(Se,{key:3},Ze(r.externalTools,l=>(N(),B("a",{key:l.id,href:l.url,target:"_blank",class:"mobile-dropdown-item external",onClick:e[11]||(e[11]=u=>r.mobileMenuOpen=!1)},[d("span",ip,te(l.icon),1),d("span",null,te(l.name),1),e[35]||(e[35]=d("span",{class:"external-indicator"},"↗",-1))],8,rp))),128))],512),[[Us,r.mobileDropdowns.resources]])]),Z(o,{to:"/about",class:"mobile-nav-item",onClick:e[12]||(e[12]=l=>r.mobileMenuOpen=!1)},{default:ue(()=>e[36]||(e[36]=[ye("关于")])),_:1})])],512),[[Us,r.mobileMenuOpen]]),d("main",op,[d("div",ap,[Z(a,null,{default:ue(({Component:l})=>[Z(td,{name:"fade",mode:"out-in"},{default:ue(()=>[(N(),cl(ou(l)))]),_:2},1024)]),_:1})])]),d("footer",lp,[e[47]||(e[47]=d("div",{class:"footer-background"},null,-1)),d("div",cp,[d("div",up,[e[45]||(e[45]=gi('<div class="footer-section"><h3>工具集</h3><p>为开发者和日常办公提供便捷实用的在线工具</p><div class="social-icons"><a href="#" class="social-icon">📱</a><a href="#" class="social-icon">📧</a><a href="#" class="social-icon">🔗</a></div></div>',1)),d("div",dp,[e[41]||(e[41]=d("h3",null,"热门工具",-1)),d("ul",fp,[d("li",null,[Z(o,{to:"/tools/json-formatter"},{default:ue(()=>e[37]||(e[37]=[ye("JSON格式化")])),_:1})]),d("li",null,[Z(o,{to:"/tools/excel-formatter"},{default:ue(()=>e[38]||(e[38]=[ye("Excel格式化")])),_:1})]),d("li",null,[Z(o,{to:"/tools/text-diff"},{default:ue(()=>e[39]||(e[39]=[ye("文本对比")])),_:1})]),d("li",null,[Z(o,{to:"/tools/color-picker"},{default:ue(()=>e[40]||(e[40]=[ye("颜色选择器")])),_:1})])])]),d("div",hp,[e[44]||(e[44]=d("h3",null,"关于我",-1)),d("ul",pp,[d("li",null,[Z(o,{to:"/about"},{default:ue(()=>e[42]||(e[42]=[ye("关于我")])),_:1})]),e[43]||(e[43]=d("li",null,[d("a",{href:"mailto:qgao233@163.com"},"联系我")],-1))])])]),e[46]||(e[46]=d("div",{class:"footer-bottom"},[d("p",null,"© 2025 工具集 | 所有工具均在浏览器本地运行，保障数据安全")],-1))])])])}const mp=mt(Mh,[["render",gp]]);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof document<"u";function Ml(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function vp(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Ml(t.default)}const ae=Object.assign;function Er(t,e){const s={};for(const n in e){const r=e[n];s[n]=rt(r)?r.map(t):t(r)}return s}const en=()=>{},rt=Array.isArray,Dl=/#/g,yp=/&/g,_p=/\//g,bp=/=/g,wp=/\?/g,Ul=/\+/g,Sp=/%5B/g,kp=/%5D/g,Nl=/%5E/g,Ep=/%60/g,Fl=/%7B/g,Cp=/%7C/g,Bl=/%7D/g,xp=/%20/g;function ki(t){return encodeURI(""+t).replace(Cp,"|").replace(Sp,"[").replace(kp,"]")}function Tp(t){return ki(t).replace(Fl,"{").replace(Bl,"}").replace(Nl,"^")}function Gr(t){return ki(t).replace(Ul,"%2B").replace(xp,"+").replace(Dl,"%23").replace(yp,"%26").replace(Ep,"`").replace(Fl,"{").replace(Bl,"}").replace(Nl,"^")}function Pp(t){return Gr(t).replace(bp,"%3D")}function Op(t){return ki(t).replace(Dl,"%23").replace(wp,"%3F")}function Ap(t){return t==null?"":Op(t).replace(_p,"%2F")}function hn(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Rp=/\/$/,jp=t=>t.replace(Rp,"");function Cr(t,e,s="/"){let n,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Mp(n??e,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:hn(o)}}function $p(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Do(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Ip(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&As(e.matched[n],s.matched[r])&&Hl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function As(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Hl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!Lp(t[s],e[s]))return!1;return!0}function Lp(t,e){return rt(t)?Uo(t,e):rt(e)?Uo(e,t):t===e}function Uo(t,e){return rt(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function Mp(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Rt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var pn;(function(t){t.pop="pop",t.push="push"})(pn||(pn={}));var tn;(function(t){t.back="back",t.forward="forward",t.unknown=""})(tn||(tn={}));function Dp(t){if(!t)if(_s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),jp(t)}const Up=/^[^#]+#/;function Np(t,e){return t.replace(Up,"#")+e}function Fp(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const ir=()=>({left:window.scrollX,top:window.scrollY});function Bp(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=Fp(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function No(t,e){return(history.state?history.state.position-e:-1)+t}const Qr=new Map;function Hp(t,e){Qr.set(t,e)}function Vp(t){const e=Qr.get(t);return Qr.delete(t),e}let qp=()=>location.protocol+"//"+location.host;function Vl(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Do(l,"")}return Do(s,t)+n+r}function Jp(t,e,s,n){let r=[],i=[],o=null;const a=({state:h})=>{const p=Vl(t,location),y=s.value,b=e.value;let A=0;if(h){if(s.value=p,e.value=h,o&&o===y){o=null;return}A=b?h.position-b.position:0}else n(p);r.forEach(O=>{O(s.value,y,{delta:A,type:pn.pop,direction:A?A>0?tn.forward:tn.back:tn.unknown})})};function l(){o=s.value}function u(h){r.push(h);const p=()=>{const y=r.indexOf(h);y>-1&&r.splice(y,1)};return i.push(p),p}function c(){const{history:h}=window;h.state&&h.replaceState(ae({},h.state,{scroll:ir()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Fo(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?ir():null}}function Kp(t){const{history:e,location:s}=window,n={value:Vl(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const f=t.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+l:qp()+t+l;try{e[c?"replaceState":"pushState"](u,"",h),r.value=u}catch(p){console.error(p),s[c?"replace":"assign"](h)}}function o(l,u){const c=ae({},e.state,Fo(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});i(l,c,!0),n.value=l}function a(l,u){const c=ae({},r.value,e.state,{forward:l,scroll:ir()});i(c.current,c,!0);const f=ae({},Fo(n.value,l,null),{position:c.position+1},u);i(l,f,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function zp(t){t=Dp(t);const e=Kp(t),s=Jp(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=ae({location:"",base:t,go:n,createHref:Np.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Wp(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),zp(t)}function Gp(t){return typeof t=="string"||t&&typeof t=="object"}function ql(t){return typeof t=="string"||typeof t=="symbol"}const Jl=Symbol("");var Bo;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Bo||(Bo={}));function Rs(t,e){return ae(new Error,{type:t,[Jl]:!0},e)}function bt(t,e){return t instanceof Error&&Jl in t&&(e==null||!!(t.type&e))}const Ho="[^/]+?",Qp={sensitive:!1,strict:!1,start:!0,end:!0},Yp=/[.+*?^${}()[\]/\\]/g;function Xp(t,e){const s=ae({},Qp,e),n=[];let r=s.start?"^":"";const i=[];for(const u of t){const c=u.length?[]:[90];s.strict&&!u.length&&(r+="/");for(let f=0;f<u.length;f++){const h=u[f];let p=40+(s.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(Yp,"\\$&"),p+=40;else if(h.type===1){const{value:y,repeatable:b,optional:A,regexp:O}=h;i.push({name:y,repeatable:b,optional:A});const w=O||Ho;if(w!==Ho){p+=10;try{new RegExp(`(${w})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${y}" (${w}): `+_.message)}}let T=b?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;f||(T=A&&u.length<2?`(?:/${T})`:"/"+T),A&&(T+="?"),r+=T,p+=20,A&&(p+=-8),b&&(p+=-20),w===".*"&&(p+=-50)}c.push(p)}n.push(c)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(u){const c=u.match(o),f={};if(!c)return null;for(let h=1;h<c.length;h++){const p=c[h]||"",y=i[h-1];f[y.name]=p&&y.repeatable?p.split("/"):p}return f}function l(u){let c="",f=!1;for(const h of t){(!f||!c.endsWith("/"))&&(c+="/"),f=!1;for(const p of h)if(p.type===0)c+=p.value;else if(p.type===1){const{value:y,repeatable:b,optional:A}=p,O=y in u?u[y]:"";if(rt(O)&&!b)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const w=rt(O)?O.join("/"):O;if(!w)if(A)h.length<2&&(c.endsWith("/")?c=c.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);c+=w}}return c||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Zp(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Kl(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=Zp(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Vo(n))return 1;if(Vo(r))return-1}return r.length-n.length}function Vo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const eg={type:0,value:""},tg=/[a-zA-Z0-9_]/;function sg(t){if(!t)return[[]];if(t==="/")return[[eg]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,u="",c="";function f(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function h(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),s=1):h();break;case 4:h(),s=n;break;case 1:l==="("?s=2:tg.test(l)?h():(f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:f(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),r}function ng(t,e,s){const n=Xp(sg(t.path),s),r=ae(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function rg(t,e){const s=[],n=new Map;e=zo({strict:!1,end:!0,sensitive:!1},e);function r(f){return n.get(f)}function i(f,h,p){const y=!p,b=Jo(f);b.aliasOf=p&&p.record;const A=zo(e,f),O=[b];if("alias"in f){const _=typeof f.alias=="string"?[f.alias]:f.alias;for(const C of _)O.push(Jo(ae({},b,{components:p?p.record.components:b.components,path:C,aliasOf:p?p.record:b})))}let w,T;for(const _ of O){const{path:C}=_;if(h&&C[0]!=="/"){const j=h.record.path,L=j[j.length-1]==="/"?"":"/";_.path=h.record.path+(C&&L+C)}if(w=ng(_,h,A),p?p.alias.push(w):(T=T||w,T!==w&&T.alias.push(w),y&&f.name&&!Ko(w)&&o(f.name)),zl(w)&&l(w),b.children){const j=b.children;for(let L=0;L<j.length;L++)i(j[L],w,p&&p.children[L])}p=p||w}return T?()=>{o(T)}:en}function o(f){if(ql(f)){const h=n.get(f);h&&(n.delete(f),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(f);h>-1&&(s.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return s}function l(f){const h=ag(f,s);s.splice(h,0,f),f.record.name&&!Ko(f)&&n.set(f.record.name,f)}function u(f,h){let p,y={},b,A;if("name"in f&&f.name){if(p=n.get(f.name),!p)throw Rs(1,{location:f});A=p.record.name,y=ae(qo(h.params,p.keys.filter(T=>!T.optional).concat(p.parent?p.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),f.params&&qo(f.params,p.keys.map(T=>T.name))),b=p.stringify(y)}else if(f.path!=null)b=f.path,p=s.find(T=>T.re.test(b)),p&&(y=p.parse(b),A=p.record.name);else{if(p=h.name?n.get(h.name):s.find(T=>T.re.test(h.path)),!p)throw Rs(1,{location:f,currentLocation:h});A=p.record.name,y=ae({},h.params,f.params),b=p.stringify(y)}const O=[];let w=p;for(;w;)O.unshift(w.record),w=w.parent;return{name:A,path:b,params:y,matched:O,meta:og(O)}}t.forEach(f=>i(f));function c(){s.length=0,n.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function qo(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function Jo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:ig(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function ig(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Ko(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function og(t){return t.reduce((e,s)=>ae(e,s.meta),{})}function zo(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function ag(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;Kl(t,e[i])<0?n=i:s=i+1}const r=lg(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function lg(t){let e=t;for(;e=e.parent;)if(zl(e)&&Kl(t,e)===0)return e}function zl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function cg(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Ul," "),o=i.indexOf("="),a=hn(o<0?i:i.slice(0,o)),l=o<0?null:hn(i.slice(o+1));if(a in e){let u=e[a];rt(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function Wo(t){let e="";for(let s in t){const n=t[s];if(s=Pp(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(rt(n)?n.map(i=>i&&Gr(i)):[n&&Gr(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function ug(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=rt(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const dg=Symbol(""),Go=Symbol(""),or=Symbol(""),Ei=Symbol(""),Yr=Symbol("");function Hs(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Ut(t,e,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=h=>{h===!1?l(Rs(4,{from:s,to:e})):h instanceof Error?l(h):Gp(h)?l(Rs(2,{from:e,to:h})):(o&&n.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},c=i(()=>t.call(n&&n.instances[r],e,s,u));let f=Promise.resolve(c);t.length<3&&(f=f.then(u)),f.catch(h=>l(h))})}function xr(t,e,s,n,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Ml(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Ut(c,s,n,o,a,r))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=vp(c)?c.default:c;o.mods[a]=c,o.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&Ut(p,s,n,o,a,r)()}))}}return i}function Qo(t){const e=st(or),s=st(Ei),n=je(()=>{const l=ks(t.to);return e.resolve(l)}),r=je(()=>{const{matched:l}=n.value,{length:u}=l,c=l[u-1],f=s.matched;if(!c||!f.length)return-1;const h=f.findIndex(As.bind(null,c));if(h>-1)return h;const p=Yo(l[u-2]);return u>1&&Yo(c)===p&&f[f.length-1].path!==p?f.findIndex(As.bind(null,l[u-2])):h}),i=je(()=>r.value>-1&&mg(s.params,n.value.params)),o=je(()=>r.value>-1&&r.value===s.matched.length-1&&Hl(s.params,n.value.params));function a(l={}){if(gg(l)){const u=e[ks(t.replace)?"replace":"push"](ks(t.to)).catch(en);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:je(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function fg(t){return t.length===1?t[0]:t}const hg=Da({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qo,setup(t,{slots:e}){const s=Yn(Qo(t)),{options:n}=st(or),r=je(()=>({[Xo(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Xo(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&fg(e.default(s));return t.custom?i:vi("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),pg=hg;function gg(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function mg(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!rt(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Yo(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Xo=(t,e,s)=>t??e??s,vg=Da({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=st(Yr),r=je(()=>t.route||n.value),i=st(Go,0),o=je(()=>{let u=ks(i);const{matched:c}=r.value;let f;for(;(f=c[u])&&!f.components;)u++;return u}),a=je(()=>r.value.matched[o.value]);jn(Go,je(()=>o.value+1)),jn(dg,a),jn(Yr,r);const l=Q();return xt(()=>[l.value,a.value,t.name],([u,c,f],[h,p,y])=>{c&&(c.instances[f]=u,p&&p!==c&&u&&u===h&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!As(c,p)||!h)&&(c.enterCallbacks[f]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,f=a.value,h=f&&f.components[c];if(!h)return Zo(s.default,{Component:h,route:u});const p=f.props[c],y=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=vi(h,ae({},y,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(f.instances[c]=null)},ref:l}));return Zo(s.default,{Component:A,route:u})||A}}});function Zo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const yg=vg;function _g(t){const e=rg(t.routes,t),s=t.parseQuery||cg,n=t.stringifyQuery||Wo,r=t.history,i=Hs(),o=Hs(),a=Hs(),l=Mc(Rt);let u=Rt;_s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Er.bind(null,k=>""+k),f=Er.bind(null,Ap),h=Er.bind(null,hn);function p(k,H){let U,q;return ql(k)?(U=e.getRecordMatcher(k),q=H):q=k,e.addRoute(q,U)}function y(k){const H=e.getRecordMatcher(k);H&&e.removeRoute(H)}function b(){return e.getRoutes().map(k=>k.record)}function A(k){return!!e.getRecordMatcher(k)}function O(k,H){if(H=ae({},H||l.value),typeof k=="string"){const v=Cr(s,k,H.path),S=e.resolve({path:v.path},H),x=r.createHref(v.fullPath);return ae(v,S,{params:h(S.params),hash:hn(v.hash),redirectedFrom:void 0,href:x})}let U;if(k.path!=null)U=ae({},k,{path:Cr(s,k.path,H.path).path});else{const v=ae({},k.params);for(const S in v)v[S]==null&&delete v[S];U=ae({},k,{params:f(v)}),H.params=f(H.params)}const q=e.resolve(U,H),fe=k.hash||"";q.params=c(h(q.params));const g=$p(n,ae({},k,{hash:Tp(fe),path:q.path})),m=r.createHref(g);return ae({fullPath:g,hash:fe,query:n===Wo?ug(k.query):k.query||{}},q,{redirectedFrom:void 0,href:m})}function w(k){return typeof k=="string"?Cr(s,k,l.value.path):ae({},k)}function T(k,H){if(u!==k)return Rs(8,{from:H,to:k})}function _(k){return L(k)}function C(k){return _(ae(w(k),{replace:!0}))}function j(k){const H=k.matched[k.matched.length-1];if(H&&H.redirect){const{redirect:U}=H;let q=typeof U=="function"?U(k):U;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=w(q):{path:q},q.params={}),ae({query:k.query,hash:k.hash,params:q.path!=null?{}:k.params},q)}}function L(k,H){const U=u=O(k),q=l.value,fe=k.state,g=k.force,m=k.replace===!0,v=j(U);if(v)return L(ae(w(v),{state:typeof v=="object"?ae({},fe,v.state):fe,force:g,replace:m}),H||U);const S=U;S.redirectedFrom=H;let x;return!g&&Ip(n,q,U)&&(x=Rs(16,{to:S,from:q}),it(q,q,!0,!1)),(x?Promise.resolve(x):X(S,q)).catch(E=>bt(E)?bt(E,2)?E:Ot(E):oe(E,S,q)).then(E=>{if(E){if(bt(E,2))return L(ae({replace:m},w(E.to),{state:typeof E.to=="object"?ae({},fe,E.to.state):fe,force:g}),H||S)}else E=P(S,q,!0,m,fe);return M(S,q,E),E})}function se(k,H){const U=T(k,H);return U?Promise.reject(U):Promise.resolve()}function V(k){const H=as.values().next().value;return H&&typeof H.runWithContext=="function"?H.runWithContext(k):k()}function X(k,H){let U;const[q,fe,g]=bg(k,H);U=xr(q.reverse(),"beforeRouteLeave",k,H);for(const v of q)v.leaveGuards.forEach(S=>{U.push(Ut(S,k,H))});const m=se.bind(null,k,H);return U.push(m),We(U).then(()=>{U=[];for(const v of i.list())U.push(Ut(v,k,H));return U.push(m),We(U)}).then(()=>{U=xr(fe,"beforeRouteUpdate",k,H);for(const v of fe)v.updateGuards.forEach(S=>{U.push(Ut(S,k,H))});return U.push(m),We(U)}).then(()=>{U=[];for(const v of g)if(v.beforeEnter)if(rt(v.beforeEnter))for(const S of v.beforeEnter)U.push(Ut(S,k,H));else U.push(Ut(v.beforeEnter,k,H));return U.push(m),We(U)}).then(()=>(k.matched.forEach(v=>v.enterCallbacks={}),U=xr(g,"beforeRouteEnter",k,H,V),U.push(m),We(U))).then(()=>{U=[];for(const v of o.list())U.push(Ut(v,k,H));return U.push(m),We(U)}).catch(v=>bt(v,8)?v:Promise.reject(v))}function M(k,H,U){a.list().forEach(q=>V(()=>q(k,H,U)))}function P(k,H,U,q,fe){const g=T(k,H);if(g)return g;const m=H===Rt,v=_s?history.state:{};U&&(q||m?r.replace(k.fullPath,ae({scroll:m&&v&&v.scroll},fe)):r.push(k.fullPath,fe)),l.value=k,it(k,H,U,m),Ot()}let z;function ke(){z||(z=r.listen((k,H,U)=>{if(!bn.listening)return;const q=O(k),fe=j(q);if(fe){L(ae(fe,{replace:!0,force:!0}),q).catch(en);return}u=q;const g=l.value;_s&&Hp(No(g.fullPath,U.delta),ir()),X(q,g).catch(m=>bt(m,12)?m:bt(m,2)?(L(ae(w(m.to),{force:!0}),q).then(v=>{bt(v,20)&&!U.delta&&U.type===pn.pop&&r.go(-1,!1)}).catch(en),Promise.reject()):(U.delta&&r.go(-U.delta,!1),oe(m,q,g))).then(m=>{m=m||P(q,g,!1),m&&(U.delta&&!bt(m,8)?r.go(-U.delta,!1):U.type===pn.pop&&bt(m,20)&&r.go(-1,!1)),M(q,g,m)}).catch(en)}))}let Ee=Hs(),we=Hs(),de;function oe(k,H,U){Ot(k);const q=we.list();return q.length?q.forEach(fe=>fe(k,H,U)):console.error(k),Promise.reject(k)}function vt(){return de&&l.value!==Rt?Promise.resolve():new Promise((k,H)=>{Ee.add([k,H])})}function Ot(k){return de||(de=!k,ke(),Ee.list().forEach(([H,U])=>k?U(k):H()),Ee.reset()),k}function it(k,H,U,q){const{scrollBehavior:fe}=t;if(!_s||!fe)return Promise.resolve();const g=!U&&Vp(No(k.fullPath,0))||(q||!U)&&history.state&&history.state.scroll||null;return kt().then(()=>fe(k,H,g)).then(m=>m&&Bp(m)).catch(m=>oe(m,k,H))}const Me=k=>r.go(k);let os;const as=new Set,bn={currentRoute:l,listening:!0,addRoute:p,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:b,resolve:O,options:t,push:_,replace:C,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:we.add,isReady:vt,install(k){const H=this;k.component("RouterLink",pg),k.component("RouterView",yg),k.config.globalProperties.$router=H,Object.defineProperty(k.config.globalProperties,"$route",{enumerable:!0,get:()=>ks(l)}),_s&&!os&&l.value===Rt&&(os=!0,_(r.location).catch(fe=>{}));const U={};for(const fe in Rt)Object.defineProperty(U,fe,{get:()=>l.value[fe],enumerable:!0});k.provide(or,H),k.provide(Ei,Sa(U)),k.provide(Yr,l);const q=k.unmount;as.add(k),k.unmount=function(){as.delete(k),as.size<1&&(u=Rt,z&&z(),z=null,l.value=Rt,os=!1,de=!1),q()}}};function We(k){return k.reduce((H,U)=>H.then(()=>V(U)),Promise.resolve())}return bn}function bg(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>As(u,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>As(u,l))||r.push(l))}return[s,n,r]}function wg(){return st(or)}function Sg(t){return st(Ei)}const kg={name:"Home",data(){return{searchQuery:""}}},Eg={class:"home"},Cg={class:"tools-section"},xg={class:"tools-grid"},Tg={class:"tools-section"},Pg={class:"tools-grid"},Og={class:"tools-section"},Ag={class:"tools-grid"},Rg={class:"tools-section"},jg={class:"tools-grid"};function $g(t,e,s,n,r,i){const o=$r("router-link");return N(),B("div",Eg,[e[10]||(e[10]=d("section",{class:"banner"},[d("div",{class:"banner-background"}),d("div",{class:"banner-content"},[d("h1",null,"在线工具集"),d("p",{class:"subtitle"},"为开发者和日常办公提供便捷实用的在线工具")])],-1)),d("section",Cg,[e[3]||(e[3]=d("div",{class:"section-header"},[d("h2",null,"热门工具"),d("p",null,"精选高效实用的开发工具")],-1)),d("div",xg,[Z(o,{to:"/tools/json-formatter",class:"tool-card"},{default:ue(()=>e[0]||(e[0]=[d("div",{class:"tool-icon"},"{}",-1),d("div",{class:"tool-content"},[d("h3",null,"JSON格式化"),d("p",null,"美化、压缩和校验JSON数据")],-1),d("div",{class:"tool-image code-image"},null,-1)])),_:1}),Z(o,{to:"/tools/excel-formatter",class:"tool-card"},{default:ue(()=>e[1]||(e[1]=[d("div",{class:"tool-icon"},"📊",-1),d("div",{class:"tool-content"},[d("h3",null,"Excel格式化"),d("p",null,"格式化Excel公式，使其更易读易懂")],-1),d("div",{class:"tool-image data-image"},null,-1)])),_:1}),Z(o,{to:"/tools/text-diff",class:"tool-card"},{default:ue(()=>e[2]||(e[2]=[d("div",{class:"tool-icon"},"⟷",-1),d("div",{class:"tool-content"},[d("h3",null,"文本对比"),d("p",null,"比较两段文本的差异")],-1),d("div",{class:"tool-image text-image"},null,-1)])),_:1})])]),d("section",Tg,[e[5]||(e[5]=d("div",{class:"section-header"},[d("h2",null,"色彩工具"),d("p",null,"帮助设计和开发的色彩相关工具")],-1)),d("div",Pg,[Z(o,{to:"/tools/color-picker",class:"tool-card"},{default:ue(()=>e[4]||(e[4]=[d("div",{class:"tool-icon"},"🎨",-1),d("div",{class:"tool-content"},[d("h3",null,"颜色选择器"),d("p",null,"颜色选择、转换与生成配色方案")],-1),d("div",{class:"tool-image color-image"},null,-1)])),_:1})])]),d("section",Og,[e[7]||(e[7]=d("div",{class:"section-header"},[d("h2",null,"媒体工具"),d("p",null,"视频与媒体处理相关工具")],-1)),d("div",Ag,[Z(o,{to:"/tools/video-parser",class:"tool-card"},{default:ue(()=>e[6]||(e[6]=[d("div",{class:"tool-icon"},"🎬",-1),d("div",{class:"tool-content"},[d("h3",null,"视频解析工具"),d("p",null,"多线路解析各大平台视频")],-1),d("div",{class:"tool-image video-image"},null,-1)])),_:1})])]),d("section",Rg,[e[9]||(e[9]=d("div",{class:"section-header"},[d("h2",null,"通信工具"),d("p",null,"实时聊天与通信相关工具")],-1)),d("div",jg,[Z(o,{to:"/tools/chat",class:"tool-card"},{default:ue(()=>e[8]||(e[8]=[d("div",{class:"tool-icon"},"💬",-1),d("div",{class:"tool-content"},[d("h3",null,"实时聊天室"),d("p",null,"基于Supabase的实时聊天工具")],-1),d("div",{class:"tool-image chat-image"},null,-1)])),_:1})])]),e[11]||(e[11]=d("section",{class:"bottom-image-section"},[d("div",{class:"overlay"}),d("div",{class:"content"},[d("h2",null,"高效工具，简化工作"),d("p",null,"我致力于提供专业、便捷的在线工具，助您提高工作效率")])],-1))])}const Ig=mt(kg,[["render",$g],["__scopeId","data-v-29577b1e"]]),Lg={name:"About"},Mg={class:"about"};function Dg(t,e,s,n,r,i){return N(),B("div",Mg,e[0]||(e[0]=[gi('<section class="page-header" data-v-1b99c5d7><div class="header-background" data-v-1b99c5d7></div><div class="header-content" data-v-1b99c5d7><h1 data-v-1b99c5d7>关于我</h1><p class="breadcrumbs" data-v-1b99c5d7>首页 &gt; 关于我</p></div></section><div class="about-content" data-v-1b99c5d7><section class="intro-section" data-v-1b99c5d7><div class="section-content" data-v-1b99c5d7><div class="section-header" data-v-1b99c5d7><h2 data-v-1b99c5d7>项目介绍</h2><div class="section-divider" data-v-1b99c5d7></div></div><div class="intro-grid" data-v-1b99c5d7><div class="intro-text" data-v-1b99c5d7><p data-v-1b99c5d7>在线工具集是一个提供多种实用在线工具的门户网站，旨在为开发者和日常办公提供便捷的工具支持。我致力于打造简洁易用的工具平台，为用户提供高效的在线解决方案。</p><p data-v-1b99c5d7>我的宗旨是简化复杂工作流程，通过专业的在线工具帮助用户提高工作效率，让技术服务于创造。</p></div><div class="intro-image" data-v-1b99c5d7><img src="https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-1.2.1&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=80" alt="项目介绍图片" data-v-1b99c5d7></div></div></div></section><section class="tools-section" data-v-1b99c5d7><div class="section-content" data-v-1b99c5d7><div class="section-header" data-v-1b99c5d7><h2 data-v-1b99c5d7>我的工具</h2><div class="section-divider" data-v-1b99c5d7></div></div><div class="tools-list" data-v-1b99c5d7><div class="tool-item" data-v-1b99c5d7><div class="tool-icon" data-v-1b99c5d7>📊</div><div class="tool-details" data-v-1b99c5d7><h3 data-v-1b99c5d7>Excel格式化</h3><p data-v-1b99c5d7>将复杂的Excel公式转换为易读格式，帮助理解和调试公式。支持多种格式化选项，提升公式可读性。</p></div></div><div class="tool-item" data-v-1b99c5d7><div class="tool-icon" data-v-1b99c5d7>{}</div><div class="tool-details" data-v-1b99c5d7><h3 data-v-1b99c5d7>JSON格式化</h3><p data-v-1b99c5d7>美化、压缩和校验JSON数据，使其更易于阅读和编辑。支持语法高亮、结构折叠和错误检测功能。</p></div></div><div class="tool-item" data-v-1b99c5d7><div class="tool-icon" data-v-1b99c5d7>⟷</div><div class="tool-details" data-v-1b99c5d7><h3 data-v-1b99c5d7>文本对比</h3><p data-v-1b99c5d7>比较两段文本的差异，支持逐行对比和高亮显示。可快速识别插入、删除和修改的内容。</p></div></div><div class="tool-item" data-v-1b99c5d7><div class="tool-icon" data-v-1b99c5d7>🎨</div><div class="tool-details" data-v-1b99c5d7><h3 data-v-1b99c5d7>颜色选择器</h3><p data-v-1b99c5d7>便捷的颜色选择工具，支持RGB、HEX、HSL等多种格式转换。提供颜色方案生成，帮助设计和前端开发。</p></div></div><div class="tool-item" data-v-1b99c5d7><div class="tool-icon" data-v-1b99c5d7>🎬</div><div class="tool-details" data-v-1b99c5d7><h3 data-v-1b99c5d7>视频解析工具</h3><p data-v-1b99c5d7>多线路解析各大平台视频，提供流畅的视频播放体验。支持自动切换播放源，解决视频加载问题。</p></div></div></div></div></section><section class="trust-section" data-v-1b99c5d7><div class="trust-background" data-v-1b99c5d7></div><div class="trust-content" data-v-1b99c5d7><h2 data-v-1b99c5d7>为什么选择我</h2><div class="trust-grid" data-v-1b99c5d7><div class="trust-item" data-v-1b99c5d7><div class="trust-icon" data-v-1b99c5d7>🔒</div><h3 data-v-1b99c5d7>安全可靠</h3><p data-v-1b99c5d7>所有工具在浏览器本地运行，确保数据不会外泄</p></div><div class="trust-item" data-v-1b99c5d7><div class="trust-icon" data-v-1b99c5d7>⚡</div><h3 data-v-1b99c5d7>高效便捷</h3><p data-v-1b99c5d7>专注于简化流程，提供快速高效的解决方案</p></div><div class="trust-item" data-v-1b99c5d7><div class="trust-icon" data-v-1b99c5d7>🛠️</div><h3 data-v-1b99c5d7>专业工具</h3><p data-v-1b99c5d7>针对开发者和办公需求，提供专业级工具</p></div></div></div></section><section class="contact-section" data-v-1b99c5d7><div class="section-content" data-v-1b99c5d7><div class="section-header" data-v-1b99c5d7><h2 data-v-1b99c5d7>联系我</h2><div class="section-divider" data-v-1b99c5d7></div></div><p data-v-1b99c5d7>如果您有任何问题、建议或合作意向，欢迎通过以下方式联系我：</p><div class="contact-card" data-v-1b99c5d7><div class="contact-item" data-v-1b99c5d7><div class="contact-icon" data-v-1b99c5d7>📧</div><div class="contact-details" data-v-1b99c5d7><h3 data-v-1b99c5d7>电子邮件</h3><a href="mailto:qgao233@163.com" data-v-1b99c5d7>qgao233@163.com</a></div></div></div></div></section><section class="privacy-section" data-v-1b99c5d7><div class="section-content" data-v-1b99c5d7><div class="section-header" data-v-1b99c5d7><h2 data-v-1b99c5d7>隐私说明</h2><div class="section-divider" data-v-1b99c5d7></div></div><div class="privacy-box" data-v-1b99c5d7><p data-v-1b99c5d7>所有工具均在您的浏览器中本地运行，不会将您的数据传输到服务器。我高度重视用户隐私和数据安全，确保您的信息不会被收集或共享。</p></div></div></section></div>',2)]))}const Ug=mt(Lg,[["render",Dg],["__scopeId","data-v-1b99c5d7"]]);class Xr{constructor(e=null,s=0){this.parent=e,this.tabSize=s,this.data=[]}isSingleNode(){for(let e of this.data)if(typeof e!="string")return!1;return!0}getSingleText(){return this.data.join("")}}function Ng(t){t=t.replace(/\n/g,"").replace(/\r/g,""),t=t.replace(/ +/g," ");const e=[];let s=0,n=0;for(;n<t.length;){const r=t[n];if(r==="("&&t[n+1]!==")"||r===",")e.push(t.substring(s,n+1)),s=n=n+1;else if(r===")"&&t[n-1]!=="("){s<n&&(e.push(t.substring(s,n)),s=n);const i=t.indexOf(",",n+1),o=i!==-1?t.indexOf("(",n+1,i):-1,a=i!==-1?t.indexOf(")",n+1,i):-1;i!==-1&&o===-1&&a===-1?(e.push(t.substring(s,i+1)),s=n=i+1):n+1<t.length&&t[n+1]!==")"?(e.push(")"),e.push(t[n+1]),s=n=n+2):(e.push(")"),s=n=n+1)}else if(r==='"'){const i=t.indexOf('"',n+1);n=i!==-1?i+1:n+1}else n+=1}return s<t.length&&e.push(t.substring(s)),e}let Wl=2;function Fg(t,e=60,s=3){for(let n=0;n<s;n++){let r=!0;const i=[t];for(;i.length>0;){const o=i.pop(),a={};for(let l=0;l<o.data.length;l++){const u=o.data[l];if(u instanceof Xr)if(u.isSingleNode()){const c=u.getSingleText();c.length<e&&(a[l]=c)}else i.push(u)}for(const[l,u]of Object.entries(a))o.data[l]=u;Object.keys(a).length!==0&&(r=!1)}if(r)break}}function*Gl(t){for(let e=0;e<t.data.length;e++){const s=t.data[e];if(typeof s=="string"){const n=e===0||e===t.data.length-1?t.tabSize-1:t.tabSize;yield`${" ".repeat(Wl*Math.max(0,n))}${s}`}else yield*Gl(s)}}function Bg(t,e=2,s=!0,n=60,r=3){Wl=e;const i=Ng(t);let o=0;const a=new Xr;let l=a;for(const c of i)if(c.endsWith("(")){o+=1;const f=new Xr(l,o);l.data.push(f),l=f,l.data.push(c)}else c.startsWith(")")?(o-=1,l.data.push(c),l=l.parent):l.data.push(c);s&&Fg(a,n,r);const u=[];for(const c of Gl(a))u.push(c);return u.join(`
`)}const Hg={name:"ExcelFormatter",setup(){const t=Q(""),e=Q(""),s=Q(!1);return{inputFormula:t,formattedResult:e,showCopyMessage:s,formatFormula:()=>{if(!t.value.trim()){alert("请输入Excel公式");return}try{e.value=Bg(t.value)}catch(o){console.error("格式化出错:",o),alert("格式化出错，请检查公式是否正确")}},clearFormula:()=>{t.value="",e.value=""},copyResult:()=>{e.value&&navigator.clipboard.writeText(e.value).then(()=>{s.value=!0,setTimeout(()=>{s.value=!1},3e3)}).catch(o=>{console.error("复制失败:",o),alert("复制失败")})}}}},Vg={class:"excel-formatter"},qg={class:"formatter-container"},Jg={class:"form-group"},Kg={class:"actions"},zg={key:0,class:"form-group result-container"},Wg={class:"result-header"},Gg={class:"copy-actions"},Qg={key:0,class:"copy-message"},Yg={id:"output-formula",class:"output-area"};function Xg(t,e,s,n,r,i){return N(),B("div",Vg,[e[10]||(e[10]=d("h2",null,[d("span",{class:"tool-icon"},"📊"),ye(" Excel公式格式化工具")],-1)),d("div",qg,[d("div",Jg,[e[4]||(e[4]=d("label",{for:"input-formula"},"输入Excel公式：",-1)),_e(d("textarea",{id:"input-formula","onUpdate:modelValue":e[0]||(e[0]=o=>n.inputFormula=o),class:"input-area",placeholder:"请输入需要格式化的Excel公式"},null,512),[[et,n.inputFormula]])]),d("div",Kg,[d("button",{class:"format-btn",onClick:e[1]||(e[1]=(...o)=>n.formatFormula&&n.formatFormula(...o))},e[5]||(e[5]=[d("span",{class:"btn-icon"},"✨",-1),ye("格式化 ")])),d("button",{class:"clear-btn",onClick:e[2]||(e[2]=(...o)=>n.clearFormula&&n.clearFormula(...o))},e[6]||(e[6]=[d("span",{class:"btn-icon"},"🗑️",-1),ye("清空 ")]))]),n.formattedResult?(N(),B("div",zg,[d("div",Wg,[e[9]||(e[9]=d("label",{for:"output-formula"},"格式化结果：",-1)),d("div",Gg,[d("button",{class:"copy-btn",onClick:e[3]||(e[3]=(...o)=>n.copyResult&&n.copyResult(...o))},e[7]||(e[7]=[d("span",{class:"btn-icon"},"📋",-1),ye("复制结果 ")])),n.showCopyMessage?(N(),B("div",Qg,e[8]||(e[8]=[d("span",{class:"copy-icon"},"✅",-1),ye(" 已复制到剪贴板 ")]))):Pe("",!0)])]),d("pre",Yg,te(n.formattedResult),1)])):Pe("",!0)])])}const Zg=mt(Hg,[["render",Xg],["__scopeId","data-v-d72e0742"]]);function is(t){return t.replace(/\r?\n/g,"").trim()}function Ql(t,e=2,s=!1){try{const n=is(t),r=JSON.parse(n);return JSON.stringify(r,s?Zl:null,e)}catch(n){throw new Error(`JSON解析错误: ${n.message}`)}}function Yl(t,e=!1){try{const s=is(t),n=JSON.parse(s);return JSON.stringify(n,e?Zl:null,"	")}catch(s){throw new Error(`JSON解析错误: ${s.message}`)}}function Xl(t,e=!1,s=2){let n=is(t).replace(/\s+/g," "),r="",i=0,o=!1,a=n.split("");const l=e?"	":" ".repeat(s);for(let u=0;u<a.length;u++){const c=a[u];if(c==='"'&&(u===0||a[u-1]!=="\\")){o=!o,r+=c;continue}if(o){r+=c;continue}switch(c){case"{":case"[":r+=c+`
`+l.repeat(++i);break;case"}":case"]":r+=`
`+l.repeat(--i)+c;break;case",":r+=c+`
`+l.repeat(i);break;case":":r+=c+" ";break;default:r+=c}}return r}function em(t){try{if(!t.trim())return"";try{const r=is(t),i=JSON.parse(r);return JSON.stringify(i)}catch(r){console.log("解析失败，使用直接压缩方式:",r)}let e="",s=!1,n=!1;for(let r=0;r<t.length;r++){const i=t[r];if(s&&!n&&i==="\\"){n=!0,e+=i;continue}if(n){n=!1,e+=i;continue}if(i==='"'&&!n){s=!s,e+=i;continue}if(s){e+=i;continue}/\s/.test(i)||(e+=i)}return e}catch(e){throw new Error(`JSON压缩错误: ${e.message}`)}}function tm(t){try{const e=is(t);return JSON.parse(e),{valid:!0,message:"JSON格式有效"}}catch(e){return{valid:!1,message:e.message}}}function Zl(t,e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.keys(e).sort().reduce((s,n)=>(s[n]=e[n],s),{}):e}function sm(t,e={}){const n={...{stringColor:"#0B7500",numberColor:"#1A01CC",booleanColor:"#1A01CC",nullColor:"#1A01CC",keyColor:"#881391",braceColor:"#000000",bracketColor:"#000000",commaColor:"#000000",indentSize:2,useTabs:!1},...e};try{const r=is(t);let i;return n.useTabs?i=Yl(r,!1):n.customFormat?i=Xl(r,n.useTabs,n.indentSize):i=Ql(r,n.indentSize,!1),i.replace(/"([^"]+)":/g,`<span style="color:${n.keyColor}">"$1"</span>:`).replace(/: "([^"]*)"/g,`: <span style="color:${n.stringColor}">"$1"</span>`).replace(/: ([0-9]+\.?[0-9]*)/g,`: <span style="color:${n.numberColor}">$1</span>`).replace(/: (true|false)/g,`: <span style="color:${n.booleanColor}">$1</span>`).replace(/: (null)/g,`: <span style="color:${n.nullColor}">$1</span>`).replace(/[{}]/g,a=>`<span style="color:${n.braceColor}">${a}</span>`).replace(/[\[\]]/g,a=>`<span style="color:${n.bracketColor}">${a}</span>`).replace(/,/g,`<span style="color:${n.commaColor}">,</span>`)}catch(r){throw new Error(`JSON解析错误: ${r.message}`)}}function nm(t){try{const e=is(t),s=JSON.parse(e),n={totalKeys:0,depth:0,arraysCount:0,objectsCount:0,stringsCount:0,numbersCount:0,booleansCount:0,nullCount:0,maxArrayLength:0,uniqueKeys:new Set};return Zr(s,n,0),{totalKeys:n.totalKeys,uniqueKeys:n.uniqueKeys.size,depth:n.depth,arraysCount:n.arraysCount,objectsCount:n.objectsCount,stringsCount:n.stringsCount,numbersCount:n.numbersCount,booleansCount:n.booleansCount,nullCount:n.nullCount,maxArrayLength:n.maxArrayLength}}catch(e){throw new Error(`JSON解析错误: ${e.message}`)}}function Zr(t,e,s){if(e.depth=Math.max(e.depth,s),t===null)e.nullCount++;else if(typeof t=="object")if(Array.isArray(t)){e.arraysCount++,e.maxArrayLength=Math.max(e.maxArrayLength,t.length);for(const n of t)Zr(n,e,s+1)}else{e.objectsCount++;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e.totalKeys++,e.uniqueKeys.add(n),Zr(t[n],e,s+1))}else typeof t=="string"?e.stringsCount++:typeof t=="number"?e.numbersCount++:typeof t=="boolean"&&e.booleansCount++}const rm={name:"JsonFormatter",setup(){const t=Q(""),e=Q(""),s=Q(""),n=Q(""),r=Q(!1),i=Q(2),o=Q(!1),a=Q(!0),l=Q("default"),u=Q(!1),c=Q({}),f=Q(!1),h=Q(!1),p={default:{stringColor:"#0B7500",numberColor:"#1A01CC",booleanColor:"#1A01CC",nullColor:"#1A01CC",keyColor:"#881391",braceColor:"#000000",bracketColor:"#000000",commaColor:"#000000"},dark:{stringColor:"#6A8759",numberColor:"#6897BB",booleanColor:"#CC7832",nullColor:"#CC7832",keyColor:"#9876AA",braceColor:"#FFFFFF",bracketColor:"#FFFFFF",commaColor:"#FFFFFF"},pastel:{stringColor:"#98C379",numberColor:"#D19A66",booleanColor:"#56B6C2",nullColor:"#56B6C2",keyColor:"#E06C75",braceColor:"#ABB2BF",bracketColor:"#ABB2BF",commaColor:"#ABB2BF"}};xt([e,a,l],()=>{a.value&&e.value&&y()});const y=()=>{try{s.value=sm(e.value,{...p[l.value],indentSize:Number(i.value),useTabs:f.value})}catch(j){console.error("高亮错误:",j),s.value=e.value}},b=j=>{if(!t.value.trim()){C("请输入JSON数据",!0);return}try{let L=t.value;if(L=L.replace(/([{,])\s*([a-zA-Z0-9_$]+)\s*:/g,'$1"$2":'),j==="format")h.value?e.value=Xl(L,f.value,Number(i.value)):f.value?e.value=Yl(L,o.value):e.value=Ql(L,Number(i.value),o.value),C("格式化成功",!1);else if(j==="minify")try{const se=em(L);se&&se.trim()?(e.value=se,C("压缩成功：已移除所有空白字符和换行",!1),a.value=!1):(C("压缩结果为空，请检查输入",!0),e.value="")}catch(se){console.error("压缩出错:",se),e.value=t.value.replace(/\s+/g,""),C("使用基本压缩方式",!1)}}catch(L){console.error("格式化出错:",L),C(`JSON解析错误: ${L.message}。请确保键名使用双引号，例如 {"a":1}`,!0),e.value=""}},A=()=>{if(!t.value.trim()){C("请输入JSON数据",!0);return}let j=t.value;j=j.replace(/([{,])\s*([a-zA-Z0-9_$]+)\s*:/g,'$1"$2":');const L=tm(j);L.valid?C("验证成功：JSON格式有效",!1):C(`验证失败：${L.message}。请确保键名使用双引号，例如 {"a":1}`,!0)},O=()=>{try{let j=t.value;j=j.replace(/([{,])\s*([a-zA-Z0-9_$]+)\s*:/g,'$1"$2":'),c.value=nm(j),u.value=!0}catch(j){C(`分析失败：${j.message}。请确保键名使用双引号，例如 {"a":1}`,!0)}},w=()=>{u.value=!1},T=()=>{t.value="",e.value="",s.value="",n.value="",u.value=!1},_=()=>{e.value&&navigator.clipboard.writeText(e.value).then(()=>{C("已复制到剪贴板",!1)}).catch(j=>{console.error("复制失败:",j),C("复制失败",!0)})},C=(j,L)=>{n.value=j,r.value=L,setTimeout(()=>{n.value===j&&(n.value="")},3e3)};return{inputJson:t,formattedResult:e,highlightedResult:s,statusMessage:n,isError:r,indentSize:i,sortKeys:o,highlight:a,currentTheme:l,showAnalysis:u,analysis:c,useTabs:f,useManualFormat:h,processJson:b,validateJsonData:A,analyzeJson:O,closeAnalysis:w,clearJson:T,copyResult:_,reHighlight:y}}},im={class:"json-formatter"},om={class:"formatter-container"},am={class:"form-group"},lm={class:"options-panel"},cm={class:"indent-option"},um=["disabled"],dm={class:"indent-type"},fm={class:"format-type"},hm={class:"sort-option"},pm={class:"highlight-option"},gm={class:"actions"},mm={key:0,class:"form-group result-container"},vm={class:"result-header"},ym={key:0,class:"view-options"},_m={class:"color-theme"},bm={class:"copy-actions"},wm=["innerHTML"],Sm={key:1,id:"output-json",class:"output-area"},km={key:1,class:"analysis-panel"},Em={class:"analysis-content"},Cm={class:"analysis-item"},xm={class:"analysis-value"},Tm={class:"analysis-item"},Pm={class:"analysis-value"},Om={class:"analysis-item"},Am={class:"analysis-value"},Rm={class:"analysis-item"},jm={class:"analysis-value"},$m={class:"analysis-item"},Im={class:"analysis-value"},Lm={class:"analysis-item"},Mm={class:"analysis-value"},Dm={class:"analysis-item"},Um={class:"analysis-value"},Nm={class:"analysis-item"},Fm={class:"analysis-value"},Bm={class:"analysis-item"},Hm={class:"analysis-value"},Vm={class:"analysis-item"},qm={class:"analysis-value"},Jm={class:"status-icon"};function Km(t,e,s,n,r,i){return N(),B("div",im,[e[44]||(e[44]=d("h2",null,[d("span",{class:"tool-icon"},"{ }"),ye(" JSON格式化工具")],-1)),d("div",om,[d("div",am,[e[15]||(e[15]=d("label",{for:"input-json"},"输入JSON：",-1)),_e(d("textarea",{id:"input-json","onUpdate:modelValue":e[0]||(e[0]=o=>n.inputJson=o),class:"input-area",placeholder:"请输入需要格式化的JSON数据"},null,512),[[et,n.inputJson]]),e[16]||(e[16]=gi('<div class="input-tips" data-v-e8318911><div class="tip" data-v-e8318911><span class="tip-icon" data-v-e8318911>💡</span><span class="tip-text" data-v-e8318911>标准JSON格式要求所有键名必须用双引号括起来，例如：{&quot;a&quot;:1} 而非 {a:1}</span></div><div class="tip" data-v-e8318911><span class="tip-icon" data-v-e8318911>🔄</span><span class="tip-text" data-v-e8318911>本工具会尝试自动修复一些常见格式错误</span></div></div>',1))]),d("div",lm,[d("div",cm,[e[18]||(e[18]=d("label",{for:"indent-size"},"缩进空格数：",-1)),_e(d("select",{id:"indent-size","onUpdate:modelValue":e[1]||(e[1]=o=>n.indentSize=o),disabled:n.useTabs},e[17]||(e[17]=[d("option",{value:"2"},"2",-1),d("option",{value:"4"},"4",-1),d("option",{value:"6"},"6",-1),d("option",{value:"8"},"8",-1)]),8,um),[[co,n.indentSize]])]),d("div",dm,[_e(d("input",{type:"checkbox",id:"use-tabs","onUpdate:modelValue":e[2]||(e[2]=o=>n.useTabs=o)},null,512),[[Cn,n.useTabs]]),e[19]||(e[19]=d("label",{for:"use-tabs"},"使用Tab缩进",-1))]),d("div",fm,[_e(d("input",{type:"checkbox",id:"use-manual","onUpdate:modelValue":e[3]||(e[3]=o=>n.useManualFormat=o)},null,512),[[Cn,n.useManualFormat]]),e[20]||(e[20]=d("label",{for:"use-manual"},"增强格式化",-1)),e[21]||(e[21]=d("span",{class:"tooltip"},[d("span",{class:"tooltip-icon"},"?"),d("span",{class:"tooltip-text"},"适用于特殊格式或复杂JSON")],-1))]),d("div",hm,[_e(d("input",{type:"checkbox",id:"sort-keys","onUpdate:modelValue":e[4]||(e[4]=o=>n.sortKeys=o)},null,512),[[Cn,n.sortKeys]]),e[22]||(e[22]=d("label",{for:"sort-keys"},"按键名排序",-1))]),d("div",pm,[_e(d("input",{type:"checkbox",id:"highlight","onUpdate:modelValue":e[5]||(e[5]=o=>n.highlight=o)},null,512),[[Cn,n.highlight]]),e[23]||(e[23]=d("label",{for:"highlight"},"语法高亮",-1))])]),d("div",gm,[d("button",{class:"format-btn",onClick:e[6]||(e[6]=o=>n.processJson("format"))},e[24]||(e[24]=[d("span",{class:"btn-icon"},"✨",-1),ye("格式化 ")])),d("button",{class:"minify-btn",onClick:e[7]||(e[7]=o=>n.processJson("minify"))},e[25]||(e[25]=[d("span",{class:"btn-icon"},"📦",-1),ye("去除空格和换行 ")])),d("button",{class:"validate-btn",onClick:e[8]||(e[8]=(...o)=>n.validateJsonData&&n.validateJsonData(...o))},e[26]||(e[26]=[d("span",{class:"btn-icon"},"✓",-1),ye("验证 ")])),n.formattedResult?(N(),B("button",{key:0,class:"analyze-btn",onClick:e[9]||(e[9]=(...o)=>n.analyzeJson&&n.analyzeJson(...o))},e[27]||(e[27]=[d("span",{class:"btn-icon"},"📊",-1),ye("分析结构 ")]))):Pe("",!0),d("button",{class:"clear-btn",onClick:e[10]||(e[10]=(...o)=>n.clearJson&&n.clearJson(...o))},e[28]||(e[28]=[d("span",{class:"btn-icon"},"🗑️",-1),ye("清空 ")]))]),n.formattedResult?(N(),B("div",mm,[d("div",vm,[e[32]||(e[32]=d("label",{for:"output-json"},"结果：",-1)),n.highlight?(N(),B("div",ym,[d("div",_m,[e[30]||(e[30]=d("label",{for:"theme"},"主题：",-1)),_e(d("select",{id:"theme","onUpdate:modelValue":e[11]||(e[11]=o=>n.currentTheme=o),onChange:e[12]||(e[12]=(...o)=>n.reHighlight&&n.reHighlight(...o))},e[29]||(e[29]=[d("option",{value:"default"},"默认",-1),d("option",{value:"dark"},"暗色",-1),d("option",{value:"pastel"},"柔和",-1)]),544),[[co,n.currentTheme]])])])):Pe("",!0),d("div",bm,[d("button",{class:"copy-btn",onClick:e[13]||(e[13]=(...o)=>n.copyResult&&n.copyResult(...o))},e[31]||(e[31]=[d("span",{class:"btn-icon"},"📋",-1),ye("复制结果 ")]))])]),n.highlight?(N(),B("div",{key:0,class:"output-area highlighted",innerHTML:n.highlightedResult},null,8,wm)):(N(),B("pre",Sm,te(n.formattedResult),1))])):Pe("",!0),n.showAnalysis?(N(),B("div",km,[e[43]||(e[43]=d("h3",null,"JSON结构分析",-1)),d("div",Em,[d("div",Cm,[e[33]||(e[33]=d("span",{class:"analysis-label"},"总键数：",-1)),d("span",xm,te(n.analysis.totalKeys),1)]),d("div",Tm,[e[34]||(e[34]=d("span",{class:"analysis-label"},"不同键数：",-1)),d("span",Pm,te(n.analysis.uniqueKeys),1)]),d("div",Om,[e[35]||(e[35]=d("span",{class:"analysis-label"},"最大深度：",-1)),d("span",Am,te(n.analysis.depth),1)]),d("div",Rm,[e[36]||(e[36]=d("span",{class:"analysis-label"},"对象数量：",-1)),d("span",jm,te(n.analysis.objectsCount),1)]),d("div",$m,[e[37]||(e[37]=d("span",{class:"analysis-label"},"数组数量：",-1)),d("span",Im,te(n.analysis.arraysCount),1)]),d("div",Lm,[e[38]||(e[38]=d("span",{class:"analysis-label"},"字符串数量：",-1)),d("span",Mm,te(n.analysis.stringsCount),1)]),d("div",Dm,[e[39]||(e[39]=d("span",{class:"analysis-label"},"数字数量：",-1)),d("span",Um,te(n.analysis.numbersCount),1)]),d("div",Nm,[e[40]||(e[40]=d("span",{class:"analysis-label"},"布尔值数量：",-1)),d("span",Fm,te(n.analysis.booleansCount),1)]),d("div",Bm,[e[41]||(e[41]=d("span",{class:"analysis-label"},"null值数量：",-1)),d("span",Hm,te(n.analysis.nullCount),1)]),d("div",Vm,[e[42]||(e[42]=d("span",{class:"analysis-label"},"最长数组长度：",-1)),d("span",qm,te(n.analysis.maxArrayLength),1)])]),d("button",{class:"close-analysis-btn",onClick:e[14]||(e[14]=(...o)=>n.closeAnalysis&&n.closeAnalysis(...o))},"关闭分析")])):Pe("",!0),n.statusMessage?(N(),B("div",{key:2,class:Fe(["status-message",{"status-error":n.isError,"status-success":!n.isError}])},[d("span",Jm,te(n.isError?"❌":"✅"),1),ye(" "+te(n.statusMessage),1)],2)):Pe("",!0)])])}const zm=mt(rm,[["render",Km],["__scopeId","data-v-e8318911"]]);class ec{constructor(e,s,n){this.I=e,this.J=s,this.Prev=n}isSnake(){return!1}}class Wm extends ec{constructor(e,s,n){super(e,s,n)}}class ea extends ec{constructor(e,s,n){super(e,s,n)}isSnake(){return!0}}class Gm{equals(e,s){return e===s}}class Qm{constructor(e=null){this.equalizer=e||new Gm}equals(e,s){return this.equalizer.equals(e,s)}buildPath(e,s){var u,c,f,h;if(!e)throw new Error("原始序列为空");if(!s)throw new Error("修改序列为空");const n=e.length,r=s.length,i=n+r+1,o=1+2*i,a=Math.floor(o/2),l=new Array(o);l[a+1]=new ea(0,-1,null);for(let p=0;p<i;p++)for(let y=-p;y<=p;y+=2){const b=a+y,A=b+1,O=b-1;let w,T;y===-p||y!==p&&((u=l[O])==null?void 0:u.I)<((c=l[A])==null?void 0:c.I)?(w=((f=l[A])==null?void 0:f.I)||0,T=l[A]):(w=((h=l[O])==null?void 0:h.I)+1||1,T=l[O]);let _=w-y;l[O]=null;let C=new Wm(w,_,T);for(;w<n&&_<r&&this.equals(e[w],s[_]);)w++,_++;if(w>C.I&&(C=new ea(w,_,C)),l[b]=C,w>=n&&_>=r)return l[b]}throw new Error("无法找到差异路径")}buildDiff(e,s,n){if(!e)throw new Error("路径为空");if(!s)throw new Error("原始序列为空");if(!n)throw new Error("修改序列为空");const r=[],i=[],o=[];let a=1,l=1;const u=[];let c=e;for(;c&&c.Prev;)u.push(c),c=c.Prev;u.reverse();let f=0,h=0;for(let p=0;p<u.length;p++){const y=u[p];if(y.isSnake())for(let b=f;b<y.I;b++){const A=b-(f-h);i.push({type:"unchanged",text:s[b],lineNumber:a++}),o.push({type:"unchanged",text:n[A],lineNumber:l++}),r.push({type:"unchanged",text:s[b]})}else y.I>f&&y.J>h?(i.push({type:"modified",text:s[y.I-1],lineNumber:a++}),o.push({type:"modified",text:n[y.J-1],lineNumber:l++}),r.push({type:"removed",text:s[y.I-1]}),r.push({type:"added",text:n[y.J-1]})):y.I>f?(i.push({type:"removed",text:s[y.I-1],lineNumber:a++}),r.push({type:"removed",text:s[y.I-1]})):y.J>h&&(o.push({type:"added",text:n[y.J-1],lineNumber:l++}),r.push({type:"added",text:n[y.J-1]}));f=y.I,h=y.J}return{result:r,leftLines:i,rightLines:o}}computeDiff(e,s){try{const n=this.buildPath(e,s);return this.buildDiff(n,e,s)}catch(n){throw console.error("对比文本时出错:",n),n}}}const Ym={name:"TextDiff",setup(){const t=new Qm,e=Q(""),s=Q(""),n=Q({leftLines:[],rightLines:[]}),r=Q(null),i=Q(null),o=Q(null),a=Q(null),l=Q(null),u=Q(null),c=je(()=>n.value.leftLines||[]),f=je(()=>n.value.rightLines||[]),h=()=>{if(!e.value&&!s.value){n.value={leftLines:[],rightLines:[]};return}const w=e.value.split(`
`),T=s.value.split(`
`);try{n.value=t.computeDiff(w,T)}catch(_){console.error("对比文本时出错:",_),alert("对比文本时出错: "+_.message)}},p=()=>{h()},y=()=>{h()},b=()=>{e.value="",s.value="",n.value={leftLines:[],rightLines:[]}},A=w=>{!r.value||!i.value||!l.value||(i.value.scrollTop=w.target.scrollTop,l.value.scrollTop=w.target.scrollTop,o.value&&a.value&&u.value&&(o.value.scrollTop=w.target.scrollTop,a.value.scrollTop=w.target.scrollTop,u.value.scrollTop=w.target.scrollTop))},O=w=>{!o.value||!a.value||!u.value||(a.value.scrollTop=w.target.scrollTop,u.value.scrollTop=w.target.scrollTop,r.value&&i.value&&l.value&&(r.value.scrollTop=w.target.scrollTop,i.value.scrollTop=w.target.scrollTop,l.value.scrollTop=w.target.scrollTop))};return $s(()=>{r.value&&r.value.addEventListener("scroll",A),o.value&&o.value.addEventListener("scroll",O)}),{originalText:e,modifiedText:s,diffResult:n,leftLines:c,rightLines:f,compareTexts:h,onOriginalTextChange:p,onModifiedTextChange:y,clearTexts:b,leftTextarea:r,leftHighlights:i,rightTextarea:o,rightHighlights:a,leftLineNumbers:l,rightLineNumbers:u}}},Xm={class:"text-diff"},Zm={class:"diff-container"},ev={class:"diff-code-container"},tv={class:"diff-code-panel left-panel"},sv={class:"diff-line-numbers",ref:"leftLineNumbers"},nv={class:"diff-content"},rv={class:"code-highlights",ref:"leftHighlights"},iv={class:"line-content"},ov={class:"diff-code-panel right-panel"},av={class:"diff-line-numbers",ref:"rightLineNumbers"},lv={class:"diff-content"},cv={class:"code-highlights",ref:"rightHighlights"},uv={class:"line-content"},dv={class:"actions"};function fv(t,e,s,n,r,i){return N(),B("div",Xm,[e[6]||(e[6]=d("h2",null,"文本对比工具",-1)),d("div",Zm,[e[5]||(e[5]=d("div",{class:"diff-header"},[d("div",{class:"left-header"},"原始文本"),d("div",{class:"right-header"},"修改后文本")],-1)),d("div",ev,[d("div",tv,[d("div",sv,[(N(!0),B(Se,null,Ze(n.leftLines,(o,a)=>(N(),B("div",{key:"left-num-"+a,class:"line-number"},te(o.lineNumber),1))),128))],512),d("div",nv,[_e(d("textarea",{"onUpdate:modelValue":e[0]||(e[0]=o=>n.originalText=o),class:"code-textarea",onInput:e[1]||(e[1]=(...o)=>n.onOriginalTextChange&&n.onOriginalTextChange(...o)),placeholder:"请输入原始文本",ref:"leftTextarea"},null,544),[[et,n.originalText]]),d("div",rv,[(N(!0),B(Se,null,Ze(n.leftLines,(o,a)=>(N(),B("div",{key:"left-"+a,class:Fe(["diff-line",{"diff-removed":o.type==="removed","diff-unchanged":o.type==="unchanged"}])},[d("span",iv,te(o.text),1)],2))),128))],512)])]),d("div",ov,[d("div",av,[(N(!0),B(Se,null,Ze(n.rightLines,(o,a)=>(N(),B("div",{key:"right-num-"+a,class:"line-number"},te(o.lineNumber),1))),128))],512),d("div",lv,[_e(d("textarea",{"onUpdate:modelValue":e[2]||(e[2]=o=>n.modifiedText=o),class:"code-textarea",onInput:e[3]||(e[3]=(...o)=>n.onModifiedTextChange&&n.onModifiedTextChange(...o)),placeholder:"请输入修改后的文本",ref:"rightTextarea"},null,544),[[et,n.modifiedText]]),d("div",cv,[(N(!0),B(Se,null,Ze(n.rightLines,(o,a)=>(N(),B("div",{key:"right-"+a,class:Fe(["diff-line",{"diff-added":o.type==="added","diff-unchanged":o.type==="unchanged"}])},[d("span",uv,te(o.text),1)],2))),128))],512)])])]),d("div",dv,[d("button",{class:"clear-btn",onClick:e[4]||(e[4]=(...o)=>n.clearTexts&&n.clearTexts(...o))},"清空")])])])}const hv=mt(Ym,[["render",fv],["__scopeId","data-v-712e14e6"]]),pv={name:"ColorPicker",setup(){const t=Q("#2196f3"),e=Q("#2196f3"),s=Q(""),n=Q(""),r=Q(""),i=Q("analogous"),o=[{label:"类似色",value:"analogous"},{label:"互补色",value:"complementary"},{label:"三元色",value:"triadic"},{label:"单色调",value:"monochromatic"}],a=()=>{e.value=t.value,s.value=u(t.value),n.value=c(t.value)},l=()=>{/^#[0-9A-F]{6}$/i.test(e.value)&&(t.value=e.value,s.value=u(e.value),n.value=c(e.value))},u=O=>{const w=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(O);if(!w)return"";const T=parseInt(w[1],16),_=parseInt(w[2],16),C=parseInt(w[3],16);return`rgb(${T}, ${_}, ${C})`},c=O=>{const w=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(O);if(!w)return"";let T=parseInt(w[1],16)/255,_=parseInt(w[2],16)/255,C=parseInt(w[3],16)/255;const j=Math.max(T,_,C),L=Math.min(T,_,C);let se,V,X=(j+L)/2;if(j===L)se=V=0;else{const M=j-L;switch(V=X>.5?M/(2-j-L):M/(j+L),j){case T:se=(_-C)/M+(_<C?6:0);break;case _:se=(C-T)/M+2;break;case C:se=(T-_)/M+4;break}se/=6}return se=Math.round(se*360),V=Math.round(V*100),X=Math.round(X*100),`hsl(${se}, ${V}%, ${X}%)`},f=(O,w)=>{const T=/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/i.exec(c(w));if(!T)return[];const _=parseInt(T[1]),C=parseInt(T[2]),j=parseInt(T[3]),L=[];switch(O){case"analogous":L.push(h(_,C,j)),L.push(h((_+30)%360,C,j)),L.push(h((_+60)%360,C,j)),L.push(h((_-30+360)%360,C,j)),L.push(h((_-60+360)%360,C,j));break;case"complementary":L.push(h(_,C,j)),L.push(h((_+180)%360,C,j)),L.push(h((_+180)%360,C,j-10)),L.push(h((_+180)%360,C,j+10)),L.push(h(_,C,j-10));break;case"triadic":L.push(h(_,C,j)),L.push(h((_+120)%360,C,j)),L.push(h((_+240)%360,C,j)),L.push(h((_+60)%360,C,j)),L.push(h((_+180)%360,C,j));break;case"monochromatic":L.push(h(_,C,j)),L.push(h(_,C,Math.max(0,j-20))),L.push(h(_,C,Math.max(0,j-40))),L.push(h(_,C,Math.min(100,j+20))),L.push(h(_,C,Math.min(100,j+40)));break}return L},h=(O,w,T)=>{O/=360,w/=100,T/=100;let _,C,j;if(w===0)_=C=j=T;else{const se=(M,P,z)=>(z<0&&(z+=1),z>1&&(z-=1),z<.16666666666666666?M+(P-M)*6*z:z<.5?P:z<.6666666666666666?M+(P-M)*(.6666666666666666-z)*6:M),V=T<.5?T*(1+w):T+w-T*w,X=2*T-V;_=se(X,V,O+1/3),C=se(X,V,O),j=se(X,V,O-1/3)}const L=se=>{const V=Math.round(se*255).toString(16);return V.length===1?"0"+V:V};return`#${L(_)}${L(C)}${L(j)}`},p=O=>{navigator.clipboard.writeText(O).then(()=>{r.value="已复制到剪贴板",setTimeout(()=>{r.value=""},2e3)}).catch(w=>{r.value="复制失败",console.error("复制失败: ",w)})},y=O=>{t.value=O,e.value=O,s.value=u(O),n.value=c(O)},b=O=>{i.value=O},A=je(()=>f(i.value,t.value));return xt(t,a),$s(()=>{a()}),{selectedColor:t,hexValue:e,rgbValue:s,hslValue:n,statusMessage:r,paletteTypes:o,selectedPaletteType:i,colorPalette:A,updateColorValues:a,updateFromHex:l,copyToClipboard:p,selectPaletteColor:y,changePaletteType:b}}},gv={class:"color-picker"},mv={class:"color-picker-container"},vv={class:"picker-section"},yv={class:"form-group"},_v={class:"form-group"},bv={class:"input-with-button"},wv={class:"form-group"},Sv={class:"input-with-button"},kv={class:"form-group"},Ev={class:"input-with-button"},Cv={class:"palette-section"},xv={class:"palette-type"},Tv=["onClick"],Pv={class:"color-palette"},Ov=["onClick"],Av={class:"color-label"},Rv={key:0,class:"status-message"};function jv(t,e,s,n,r,i){return N(),B("div",gv,[e[14]||(e[14]=d("h1",null,"颜色选择器",-1)),d("div",mv,[d("div",vv,[d("div",yv,[e[9]||(e[9]=d("label",{for:"color-input"},"选择颜色",-1)),_e(d("input",{type:"color",id:"color-input","onUpdate:modelValue":e[0]||(e[0]=o=>n.selectedColor=o),onInput:e[1]||(e[1]=(...o)=>n.updateColorValues&&n.updateColorValues(...o))},null,544),[[et,n.selectedColor]])]),d("div",{class:"color-preview",style:sn({backgroundColor:n.selectedColor})},null,4),d("div",_v,[e[10]||(e[10]=d("label",{for:"hex-value"},"HEX",-1)),d("div",bv,[_e(d("input",{type:"text",id:"hex-value","onUpdate:modelValue":e[2]||(e[2]=o=>n.hexValue=o),onInput:e[3]||(e[3]=(...o)=>n.updateFromHex&&n.updateFromHex(...o))},null,544),[[et,n.hexValue]]),d("button",{onClick:e[4]||(e[4]=o=>n.copyToClipboard(n.hexValue))},"复制")])]),d("div",wv,[e[11]||(e[11]=d("label",{for:"rgb-value"},"RGB",-1)),d("div",Sv,[_e(d("input",{type:"text",id:"rgb-value","onUpdate:modelValue":e[5]||(e[5]=o=>n.rgbValue=o),readonly:""},null,512),[[et,n.rgbValue]]),d("button",{onClick:e[6]||(e[6]=o=>n.copyToClipboard(n.rgbValue))},"复制")])]),d("div",kv,[e[12]||(e[12]=d("label",{for:"hsl-value"},"HSL",-1)),d("div",Ev,[_e(d("input",{type:"text",id:"hsl-value","onUpdate:modelValue":e[7]||(e[7]=o=>n.hslValue=o),readonly:""},null,512),[[et,n.hslValue]]),d("button",{onClick:e[8]||(e[8]=o=>n.copyToClipboard(n.hslValue))},"复制")])])]),d("div",Cv,[e[13]||(e[13]=d("h2",null,"颜色方案",-1)),d("div",xv,[(N(!0),B(Se,null,Ze(n.paletteTypes,(o,a)=>(N(),B("button",{key:a,class:Fe({active:n.selectedPaletteType===o.value}),onClick:l=>n.changePaletteType(o.value)},te(o.label),11,Tv))),128))]),d("div",Pv,[(N(!0),B(Se,null,Ze(n.colorPalette,(o,a)=>(N(),B("div",{key:a,class:"palette-color",style:sn({backgroundColor:o}),onClick:l=>n.selectPaletteColor(o)},[d("div",Av,te(o),1)],12,Ov))),128))])])]),n.statusMessage?(N(),B("div",Rv,te(n.statusMessage),1)):Pe("",!0)])}const $v=mt(pv,[["render",jv],["__scopeId","data-v-ec0604c7"]]),Iv={name:"VideoParser",data(){return{videoUrl:"",isLoading:!1,finalVideoUrl:"",errorMessage:"",currentParserIndex:0,successParsers:[],failedParsers:[],currentSuccessParser:null,showParserInfo:!1,parserUrls:[{name:"纯净1",url:"https://im1907.top/?jx="},{name:"B站1",url:"https://jx.jsonplayer.com/player/?url="},{name:"爱豆",url:"https://jx.aidouer.net/?url="},{name:"听乐",url:"https://jx.dj6u.com/?url="},{name:"YT",url:"https://jx.yangtu.top/?url="},{name:"BL",url:"https://vip.bljiex.com/?v="},{name:"冰豆",url:"https://bd.jx.cn/?url="},{name:"CK",url:"https://www.ckplayer.vip/jiexi/?url="},{name:"弹幕",url:"https://dmjx.m3u8.tv/?url="},{name:"IK9",url:"https://yparse.ik9.cc/index.php?url="},{name:"JX",url:"https://jiexi.site/?url="},{name:"JY",url:"https://jx.playerjy.com/?url="},{name:"解析la",url:"https://api.jiexi.la/?url="},{name:"M3U8",url:"https://jx.m3u8.tv/jiexi/?url="},{name:"PM",url:"https://www.playm3u8.cn/jiexi.php?url="},{name:"盘古",url:"https://www.pangujiexi.cc/jiexi.php?url="},{name:"盘古2",url:"https://www.pangujiexi.com/jiexi/?url="},{name:"剖云",url:"https://www.pouyun.com/?url="},{name:"七哥",url:"https://jx.nnxv.cn/tv.php?url="},{name:"神哥",url:"https://json.ovvo.pro/jx.php?url="},{name:"维多",url:"https://jx.ivito.cn/?url="},{name:"虾米",url:"https://jx.xmflv.com/?url="},{name:"虾米2",url:"https://jx.xmflv.cc/?url="},{name:"夜幕",url:"https://www.yemu.xyz/?url="},{name:"云析",url:"https://jx.yparse.com/index.php?url="},{name:"17云",url:"https://www.1717yun.com/jx/ty.php?url="},{name:"180",url:"https://jx.000180.top/jx/?url="},{name:"2ys",url:"https://gj.fenxiangb.com/player/analysis.php?v="},{name:"8090",url:"https://www.8090g.cn/?url="}],maxConcurrentRequests:3,parsingTimeout:6e3}},methods:{async parseVideo(){if(!(!this.videoUrl||this.isLoading)){this.isLoading=!0,this.finalVideoUrl="",this.errorMessage="",this.currentParserIndex=0,this.successParsers=[],this.failedParsers=[],this.currentSuccessParser=null,this.showParserInfo=!1;try{if(!this.isValidUrl(this.videoUrl))throw new Error("请输入有效的视频链接");const t=this.maxConcurrentRequests;let e=!1;for(let s=0;s<this.parserUrls.length&&!e;s+=t){const r=this.parserUrls.slice(s,s+t).map((i,o)=>{const a=s+o;return this.currentParserIndex=a,this.testParser(i,a).then(l=>(l&&!e&&(e=!0,this.currentSuccessParser=i,this.finalVideoUrl=i.url+this.videoUrl,this.successParsers.push(a)),l)).catch(()=>(this.failedParsers.push(a),!1))});await Promise.all(r)}if(!e)throw new Error("所有解析接口均无法解析该视频，请检查视频链接是否正确或尝试其他视频")}catch(t){this.errorMessage=t.message}finally{this.isLoading=!1}}},testParser(t,e){return new Promise((s,n)=>{setTimeout(()=>{Math.random()>.7?s(!0):n(!1)},1e3+Math.random()*1e3)})},isValidUrl(t){try{return new URL(t),!0}catch{return!1}},copyUrl(){this.finalVideoUrl&&navigator.clipboard.writeText(this.finalVideoUrl).then(()=>{alert("解析地址已复制到剪贴板")}).catch(t=>{console.error("复制失败:",t),alert("复制失败，请手动复制")})},toggleParserInfo(){this.showParserInfo=!this.showParserInfo},manualSelectParser(t,e){this.isLoading||!this.videoUrl||this.currentSuccessParser&&this.currentSuccessParser.name===t.name||(this.failedParsers.includes(e)?confirm(`${t.name} 解析接口之前解析失败，是否仍要尝试使用该接口？`)&&this.useParser(t):this.useParser(t))},useParser(t){this.finalVideoUrl=t.url+this.videoUrl,this.currentSuccessParser=t,this.errorMessage=""}}},Lv={class:"video-parser-container"},Mv={class:"input-container"},Dv=["disabled"],Uv={key:0,class:"status-container"},Nv={class:"progress-container"},Fv={class:"progress-text"},Bv={class:"parser-status"},Hv={class:"parser-name"},Vv={class:"parser-indicator"},qv={key:0,class:"loading-dot"},Jv={key:1,class:"success-icon"},Kv={key:2,class:"failed-icon"},zv={key:1,class:"player-container"},Wv=["src"],Gv={class:"player-info"},Qv={class:"success-message"},Yv={class:"action-buttons"},Xv={key:0,class:"parser-info"},Zv={class:"parser-info-header"},ey={class:"parser-info-count"},ty={class:"parser-list"},sy=["onClick"],ny={class:"parser-list-name"},ry={class:"parser-status-tag"},iy={key:0,class:"current-tag"},oy={key:1,class:"failed-tag"},ay={key:2,class:"untested-tag"},ly={key:3,class:"success-tag"},cy={key:2,class:"error-container"},uy={class:"error-message"};function dy(t,e,s,n,r,i){return N(),B("div",Lv,[e[9]||(e[9]=d("div",{class:"header"},[d("h1",null,"视频解析工具"),d("p",{class:"description"},"输入视频链接，同时使用多个解析接口进行解析，找到最佳播放源"),d("div",{class:"disclaimer"},"仅供学习研究使用，请勿用于任何商业用途。请尊重版权，支持正版。")],-1)),d("div",Mv,[_e(d("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>r.videoUrl=o),placeholder:"请输入需要解析的视频链接(优酷、爱奇艺、腾讯视频等)",onKeyup:e[1]||(e[1]=Fr((...o)=>i.parseVideo&&i.parseVideo(...o),["enter"]))},null,544),[[et,r.videoUrl]]),d("button",{class:"parse-btn",onClick:e[2]||(e[2]=(...o)=>i.parseVideo&&i.parseVideo(...o)),disabled:r.isLoading||!r.videoUrl},te(r.isLoading?"解析中...":"解析"),9,Dv)]),r.isLoading?(N(),B("div",Uv,[d("div",Nv,[e[5]||(e[5]=d("div",{class:"loader"},null,-1)),d("div",Fv," 正在请求解析接口 ("+te(r.currentParserIndex+1)+"/"+te(r.parserUrls.length)+") ",1)]),d("div",Bv,[(N(!0),B(Se,null,Ze(r.parserUrls,(o,a)=>(N(),B("div",{key:a,class:Fe(["parser-item",{active:r.currentParserIndex===a,success:r.successParsers.includes(a),failed:r.failedParsers.includes(a)}])},[d("span",Hv,te(o.name),1),d("span",Vv,[r.currentParserIndex===a?(N(),B("span",qv)):r.successParsers.includes(a)?(N(),B("span",Jv,"✓")):r.failedParsers.includes(a)?(N(),B("span",Kv,"✗")):Pe("",!0)])],2))),128))])])):Pe("",!0),r.finalVideoUrl?(N(),B("div",zv,[d("iframe",{src:r.finalVideoUrl,frameborder:"0",allowfullscreen:"",class:"video-player"},null,8,Wv),d("div",Gv,[d("div",Qv,[e[6]||(e[6]=d("span",{class:"success-icon"},"✓",-1)),ye(" 成功使用 "+te(r.currentSuccessParser.name)+" 接口解析视频 ",1)]),d("div",Yv,[d("button",{class:"info-btn",onClick:e[3]||(e[3]=(...o)=>i.toggleParserInfo&&i.toggleParserInfo(...o))},te(r.showParserInfo?"隐藏解析信息":"查看解析信息"),1),d("button",{class:"copy-btn",onClick:e[4]||(e[4]=(...o)=>i.copyUrl&&i.copyUrl(...o))},"复制解析地址")])]),r.showParserInfo?(N(),B("div",Xv,[d("div",Zv,[e[7]||(e[7]=d("span",null,"解析接口信息",-1)),d("span",ey,"共 "+te(r.parserUrls.length)+" 个接口",1)]),d("div",ty,[(N(!0),B(Se,null,Ze(r.parserUrls,(o,a)=>(N(),B("div",{key:a,class:Fe(["parser-list-item",{"current-parser":r.currentSuccessParser&&r.currentSuccessParser.name===o.name,"failed-parser":r.failedParsers.includes(a),"untested-parser":!r.successParsers.includes(a)&&!r.failedParsers.includes(a)&&!r.isLoading}]),onClick:l=>i.manualSelectParser(o,a)},[d("span",ny,te(o.name),1),d("span",ry,[r.currentSuccessParser&&r.currentSuccessParser.name===o.name?(N(),B("span",iy,"当前")):r.failedParsers.includes(a)?(N(),B("span",oy,"失败")):!r.successParsers.includes(a)&&!r.failedParsers.includes(a)&&!r.isLoading?(N(),B("span",ay,"未测试")):r.successParsers.includes(a)?(N(),B("span",ly,"成功")):Pe("",!0)])],10,sy))),128))])])):Pe("",!0)])):Pe("",!0),r.errorMessage?(N(),B("div",cy,[d("div",uy,[e[8]||(e[8]=d("span",{class:"error-icon"},"!",-1)),ye(" "+te(r.errorMessage),1)])])):Pe("",!0),e[10]||(e[10]=d("div",{class:"tips-container"},[d("h3",null,"使用提示"),d("ul",null,[d("li",null,"支持优酷、爱奇艺、腾讯视频、芒果TV、搜狐视频等主流视频网站"),d("li",null,"请直接复制视频页面的完整URL地址"),d("li",null,"系统会自动尝试多个解析接口，直到找到可用的资源"),d("li",null,"如遇到解析失败，可能是视频太新或者版权限制严格")])],-1))])}const fy=mt(Iv,[["render",dy],["__scopeId","data-v-d39cd102"]]),hy={name:"ChatTool",setup(){const t=Q(null),e=Q([]),s=Q(""),n=Q(null),r=Q(null),i=Q(!0),o=Q(!1),a=Q(null),l=Q(null),u=Q("游客"+Math.floor(Math.random()*1e3)),c=Q(""),f=Q("anon_"+Date.now().toString()),h=Q(!1);let p=null;const y=async()=>{const{data:M}=await ft.auth.getSession();console.log("getSession",M),t.value=M.session},b=()=>{c.value.trim()&&(u.value=c.value.trim()),h.value=!1,kt(()=>{a.value&&a.value.focus()})},A=je(()=>t.value?t.value.user.user_metadata.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.value.user.user_metadata.full_name)}&background=random`:`https://ui-avatars.com/api/?name=${encodeURIComponent(u.value)}&background=random`),O=je(()=>t.value?t.value.user.user_metadata.full_name||t.value.user.email:u.value),w=M=>t.value&&M.user_id?M.user_id===t.value.user.id:!t.value&&M.anonymous_id?M.anonymous_id===f.value:!1,T=async()=>{i.value=!0;try{const{data:M,error:P}=await ft.from("messages").select("*").order("created_at",{ascending:!0});if(P){console.error("获取消息失败:",P);return}e.value=M}catch(M){console.error("获取消息出错:",M)}finally{i.value=!1,V()}},_=async()=>{if(!s.value.trim()||o.value)return;if(!t.value&&u.value.startsWith("游客")){h.value=!0,kt(()=>{l.value&&l.value.focus()});return}const M=s.value.trim();s.value="",o.value=!0;const P={content:M};t.value?(P.user_id=t.value.user.id,P.username=t.value.user.user_metadata.full_name||t.value.user.email,P.avatar_url=t.value.user.user_metadata.avatar_url||`https://ui-avatars.com/api/?name=${encodeURIComponent(P.username)}&background=random`):(P.username=u.value,P.anonymous_id=f.value,P.avatar_url=`https://ui-avatars.com/api/?name=${encodeURIComponent(u.value)}&background=random`);try{const{error:z}=await ft.from("messages").insert([P]);if(z){console.error("发送消息失败:",z),alert("发送消息失败，请重试"),s.value=M;return}kt(()=>{a.value&&a.value.focus()})}catch(z){console.error("发送消息出错:",z),alert("发送消息失败，请重试"),s.value=M}finally{o.value=!1}},C=async()=>{const M=`${window.location.origin}${window.location.pathname}#/auth/callback`;console.log("登录重定向URL:",M);const{error:P}=await ft.auth.signInWithOAuth({provider:"google",options:{redirectTo:M}});P&&(console.error("登录失败:",P),alert("登录失败，请重试"))},j=async()=>{const{error:M}=await ft.auth.signOut();if(M){console.error("退出登录失败:",M),alert("退出登录失败，请重试");return}console.log("成功退出登录"),t.value=null,window.location.reload()},L=M=>{if(!M)return"";const P=new Date(M),z=new Date;if(z-P<24*60*60*1e3&&P.getDate()===z.getDate()&&P.getMonth()===z.getMonth()&&P.getFullYear()===z.getFullYear())return`${P.getHours().toString().padStart(2,"0")}:${P.getMinutes().toString().padStart(2,"0")}`;const Ee=new Date(z);return Ee.setDate(Ee.getDate()-1),P.getDate()===Ee.getDate()&&P.getMonth()===Ee.getMonth()&&P.getFullYear()===Ee.getFullYear()?`昨天 ${P.getHours().toString().padStart(2,"0")}:${P.getMinutes().toString().padStart(2,"0")}`:`${P.getMonth()+1}月${P.getDate()}日 ${P.getHours().toString().padStart(2,"0")}:${P.getMinutes().toString().padStart(2,"0")}`},se=()=>{p=ft.channel("messages-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},M=>{e.value.push(M.new),kt(V)}).subscribe(M=>{console.log("实时消息订阅状态:",M)})},V=()=>{kt(()=>{r.value?r.value.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}):n.value&&(n.value.scrollTop=n.value.scrollHeight)})};xt(e,()=>{V()}),$s(async()=>{if(await y(),await T(),se(),kt(()=>{a.value&&a.value.focus()}),!t.value){const M=localStorage.getItem("anonymousName"),P=localStorage.getItem("anonymousId");M&&(u.value=M),P?f.value=P:localStorage.setItem("anonymousId",f.value)}ft.auth.onAuthStateChange((M,P)=>{console.log("认证状态变化:",M,P?"已登录":"未登录"),t.value=P}),document.addEventListener("visibilitychange",X),window.addEventListener("resize",V)});const X=()=>{document.visibilityState==="visible"&&T()};return xt(u,M=>{t.value||localStorage.setItem("anonymousName",M)}),xt(t,M=>{console.log("会话状态变化:",M?"已登录":"未登录")}),hi(()=>{p&&ft.removeChannel(p),document.removeEventListener("visibilitychange",X),window.removeEventListener("resize",V)}),{session:t,messages:e,newMessage:s,messagesContainer:n,messagesEnd:r,anonymousName:u,inputAnonymousName:c,userAvatar:A,userName:O,signInWithGoogle:C,signOut:j,sendMessage:_,formatTime:L,setAnonymousName:b,isMyMessage:w,showNameInput:h,loading:i,sending:o,messageInput:a,nameInput:l}}},py={class:"chat-container"},gy={class:"chat-main"},my={class:"header"},vy={class:"user-info"},yy=["src"],_y={class:"messages",ref:"messagesContainer"},by={key:0,class:"loading-container"},wy={key:1,class:"empty-messages"},Sy={class:"message-avatar"},ky=["src"],Ey={class:"message-content"},Cy={class:"message-header"},xy={class:"message-author"},Ty={class:"message-time"},Py={class:"message-text"},Oy={ref:"messagesEnd",class:"messages-end"},Ay={class:"input-area"},Ry=["disabled"],jy={key:0},$y={key:1};function Iy(t,e,s,n,r,i){return N(),B("div",py,[e[10]||(e[10]=d("h1",null,"实时聊天工具",-1)),d("div",gy,[d("div",my,[d("div",vy,[d("img",{src:n.userAvatar,class:"avatar"},null,8,yy),d("span",null,te(n.userName),1),n.session?Pe("",!0):(N(),B("button",{key:0,onClick:e[0]||(e[0]=(...o)=>n.signInWithGoogle&&n.signInWithGoogle(...o)),class:"login-button-small"},"使用Google登录"))]),n.session?(N(),B("button",{key:0,onClick:e[1]||(e[1]=(...o)=>n.signOut&&n.signOut(...o)),class:"logout-button"},"退出登录")):Pe("",!0)]),d("div",_y,[n.loading?(N(),B("div",by,e[8]||(e[8]=[d("div",{class:"loading-spinner"},null,-1),d("span",null,"加载中...",-1)]))):n.messages.length===0?(N(),B("div",wy,e[9]||(e[9]=[d("p",null,"还没有消息，开始聊天吧！",-1)]))):Pe("",!0),(N(!0),B(Se,null,Ze(n.messages,o=>(N(),B("div",{key:o.id,class:Fe(["message",n.isMyMessage(o)?"my-message":"other-message"])},[d("div",Sy,[d("img",{src:o.avatar_url,alt:"avatar"},null,8,ky)]),d("div",Ey,[d("div",Cy,[d("span",xy,te(o.username),1),d("span",Ty,te(n.formatTime(o.created_at)),1)]),d("div",Py,te(o.content),1)])],2))),128)),d("div",Oy,null,512)],512),d("div",Ay,[n.showNameInput?_e((N(),B("input",{key:1,"onUpdate:modelValue":e[4]||(e[4]=o=>n.inputAnonymousName=o),onKeyup:e[5]||(e[5]=Fr((...o)=>n.setAnonymousName&&n.setAnonymousName(...o),["enter"])),ref:"nameInput",placeholder:"请先输入您的昵称...",class:"message-input",autofocus:""},null,544)),[[et,n.inputAnonymousName]]):_e((N(),B("input",{key:0,"onUpdate:modelValue":e[2]||(e[2]=o=>n.newMessage=o),onKeyup:e[3]||(e[3]=Fr((...o)=>n.sendMessage&&n.sendMessage(...o),["enter"])),ref:"messageInput",placeholder:"输入消息...",class:"message-input"},null,544)),[[et,n.newMessage]]),n.showNameInput?(N(),B("button",{key:3,onClick:e[7]||(e[7]=(...o)=>n.setAnonymousName&&n.setAnonymousName(...o)),class:"send-button"},"确定")):(N(),B("button",{key:2,onClick:e[6]||(e[6]=(...o)=>n.sendMessage&&n.sendMessage(...o)),class:"send-button",disabled:!n.newMessage.trim()||n.sending},[n.sending?(N(),B("span",jy,"发送中...")):(N(),B("span",$y,"发送"))],8,Ry))])])])}const Ly=mt(hy,[["render",Iy],["__scopeId","data-v-c5dea9f2"]]),My={name:"AuthCallback",setup(){const t=wg(),e=Sg();return $s(async()=>{console.log("认证回调页面加载，哈希参数:",e.hash);const s=e.hash;if(s.startsWith("#access_token=")){const n=new URLSearchParams(s.substring(1)),r=n.get("access_token"),i=n.get("refresh_token");if(r&&i){const{data:o,error:a}=await ft.auth.setSession({access_token:r,refresh_token:i});a?console.error("设置会话失败:",a):console.log("成功设置会话")}t.replace({path:"/tools/chat",replace:!0})}else console.log("未找到授权码，可能是直接访问回调页面"),t.push("/tools/chat")}),{}}},Dy={class:"auth-callback"};function Uy(t,e,s,n,r,i){return N(),B("div",Dy,e[0]||(e[0]=[d("h2",null,"认证中...",-1),d("p",null,"请稍候，正在完成登录流程",-1)]))}const Ny=mt(My,[["render",Uy],["__scopeId","data-v-094a800f"]]),Fy=[{path:"/",name:"Home",component:Ig},{path:"/about",name:"About",component:Ug},{path:"/tools/excel-formatter",name:"ExcelFormatter",component:Zg},{path:"/tools/json-formatter",name:"JsonFormatter",component:zm},{path:"/tools/text-diff",name:"TextDiff",component:hv},{path:"/tools/color-picker",name:"ColorPicker",component:$v},{path:"/tools/video-parser",name:"VideoParser",component:fy},{path:"/tools/chat",name:"Chat",component:Ly},{path:"/auth/callback",name:"AuthCallback",component:Ny}],By=_g({history:Wp("./"),routes:Fy}),tc=Ed(mp);tc.use(By);tc.mount("#app");export{Ld as g};
